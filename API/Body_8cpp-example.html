<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>PlayRho: Body.cpp</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">PlayRho
   &#160;<span id="projectnumber">0.9.0</span>
   </div>
   <div id="projectbrief">An Interactive Real-Time-Oriented C++14-based Physics Engine &amp; Library</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('Body_8cpp-example.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Body.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<p>This is the <code>googletest</code> based unit testing file for the <code><a class="el" href="classplayrho_1_1d2_1_1Body.html" title="Physical entity that exists within a World. ">playrho::d2::Body</a></code> class.</p>
<div class="fragment"><div class="line"><span class="comment">/*</span></div><div class="line"><span class="comment"> * Copyright (c) 2017 Louis Langholtz https://github.com/louis-langholtz/PlayRho</span></div><div class="line"><span class="comment"> *</span></div><div class="line"><span class="comment"> * This software is provided &#39;as-is&#39;, without any express or implied</span></div><div class="line"><span class="comment"> * warranty. In no event will the authors be held liable for any damages</span></div><div class="line"><span class="comment"> * arising from the use of this software.</span></div><div class="line"><span class="comment"> *</span></div><div class="line"><span class="comment"> * Permission is granted to anyone to use this software for any purpose,</span></div><div class="line"><span class="comment"> * including commercial applications, and to alter it and redistribute it</span></div><div class="line"><span class="comment"> * freely, subject to the following restrictions:</span></div><div class="line"><span class="comment"> *</span></div><div class="line"><span class="comment"> * 1. The origin of this software must not be misrepresented; you must not</span></div><div class="line"><span class="comment"> *    claim that you wrote the original software. If you use this software</span></div><div class="line"><span class="comment"> *    in a product, an acknowledgment in the product documentation would be</span></div><div class="line"><span class="comment"> *    appreciated but is not required.</span></div><div class="line"><span class="comment"> * 2. Altered source versions must be plainly marked as such, and must not be</span></div><div class="line"><span class="comment"> *    misrepresented as being the original software.</span></div><div class="line"><span class="comment"> * 3. This notice may not be removed or altered from any source distribution.</span></div><div class="line"><span class="comment"> */</span></div><div class="line"></div><div class="line"><span class="preprocessor">#include &quot;UnitTests.hpp&quot;</span></div><div class="line"><span class="preprocessor">#include &lt;PlayRho/Dynamics/Body.hpp&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;PlayRho/Dynamics/BodyConf.hpp&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;PlayRho/Dynamics/World.hpp&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;PlayRho/Dynamics/StepConf.hpp&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;PlayRho/Dynamics/Fixture.hpp&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;PlayRho/Dynamics/Joints/Joint.hpp&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;PlayRho/Collision/Shapes/DiskShapeConf.hpp&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;chrono&gt;</span></div><div class="line"></div><div class="line"><span class="keyword">using namespace </span><a class="code" href="namespaceplayrho.html">playrho</a>;</div><div class="line"><span class="keyword">using namespace </span><a class="code" href="namespaceplayrho_1_1d2.html">playrho::d2</a>;</div><div class="line"></div><div class="line">TEST(<a name="_a0"></a><a class="code" href="structplayrho_1_1d2_1_1BodyConf.html">BodyConf</a>, UsePosition)</div><div class="line">{</div><div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> p = <a name="_a1"></a><a class="code" href="structplayrho_1_1d2_1_1Position.html">Position</a>{<a name="_a2"></a><a class="code" href="structplayrho_1_1Vector.html">Length2</a>{3_m, -4_m}, 22_deg};</div><div class="line">    EXPECT_EQ(<a class="code" href="structplayrho_1_1d2_1_1BodyConf.html">BodyConf</a>{}.<a name="a3"></a><a class="code" href="structplayrho_1_1d2_1_1BodyConf.html#ae4e35c42308e0b1b9eb5ffb102f8e088">Use</a>(p).<a name="a4"></a><a class="code" href="structplayrho_1_1d2_1_1BodyConf.html#a96d0adc085fd3d0f0f9d37896c463e7a">location</a>, p.linear);</div><div class="line">    EXPECT_EQ(<a class="code" href="structplayrho_1_1d2_1_1BodyConf.html">BodyConf</a>{}.<a class="code" href="structplayrho_1_1d2_1_1BodyConf.html#ae4e35c42308e0b1b9eb5ffb102f8e088">Use</a>(p).<a name="a5"></a><a class="code" href="structplayrho_1_1d2_1_1BodyConf.html#a3a3fe86a4a6bb6e255dd0c20bd527a57">angle</a>, p.angular);</div><div class="line">}</div><div class="line"></div><div class="line">TEST(<a class="code" href="structplayrho_1_1d2_1_1BodyConf.html">BodyConf</a>, UseVelocity)</div><div class="line">{</div><div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> v = <a name="_a6"></a><a class="code" href="structplayrho_1_1d2_1_1Velocity.html">Velocity</a>{<a class="code" href="structplayrho_1_1Vector.html">LinearVelocity2</a>{3_mps, -4_mps}, 22_rad / 1_s};</div><div class="line">    EXPECT_EQ(<a class="code" href="structplayrho_1_1d2_1_1BodyConf.html">BodyConf</a>{}.<a class="code" href="structplayrho_1_1d2_1_1BodyConf.html#ae4e35c42308e0b1b9eb5ffb102f8e088">Use</a>(v).<a name="a7"></a><a class="code" href="structplayrho_1_1d2_1_1BodyConf.html#a505089bd57b75722c4b7c2e77738ee98">linearVelocity</a>, v.linear);</div><div class="line">    EXPECT_EQ(<a class="code" href="structplayrho_1_1d2_1_1BodyConf.html">BodyConf</a>{}.<a class="code" href="structplayrho_1_1d2_1_1BodyConf.html#ae4e35c42308e0b1b9eb5ffb102f8e088">Use</a>(v).<a name="a8"></a><a class="code" href="structplayrho_1_1d2_1_1BodyConf.html#a3034b706dd80b92a0f391911daba2679">angularVelocity</a>, v.angular);</div><div class="line">}</div><div class="line"></div><div class="line">TEST(<a name="_a9"></a><a class="code" href="classplayrho_1_1d2_1_1Body.html">Body</a>, ContactsByteSize)</div><div class="line">{</div><div class="line"><span class="preprocessor">#if defined(__APPLE__)</span></div><div class="line">    EXPECT_EQ(<span class="keyword">sizeof</span>(<a class="code" href="classplayrho_1_1d2_1_1Body.html#a4ba88ece0a09c327f597ffb3262195c6">Body::Contacts</a>), std::size_t(24));</div><div class="line"><span class="preprocessor">#elif defined(__linux__)</span></div><div class="line">    EXPECT_EQ(<span class="keyword">sizeof</span>(<a class="code" href="classplayrho_1_1d2_1_1Body.html#a4ba88ece0a09c327f597ffb3262195c6">Body::Contacts</a>), std::size_t(24));</div><div class="line"><span class="preprocessor">#elif defined(_WIN64)</span></div><div class="line"><span class="preprocessor">#if !defined(NDEBUG)</span></div><div class="line">    EXPECT_EQ(<span class="keyword">sizeof</span>(<a class="code" href="classplayrho_1_1d2_1_1Body.html#a4ba88ece0a09c327f597ffb3262195c6">Body::Contacts</a>), std::size_t(32));</div><div class="line"><span class="preprocessor">#else</span></div><div class="line">    EXPECT_EQ(<span class="keyword">sizeof</span>(<a class="code" href="classplayrho_1_1d2_1_1Body.html#a4ba88ece0a09c327f597ffb3262195c6">Body::Contacts</a>), std::size_t(24));</div><div class="line"><span class="preprocessor">#endif</span></div><div class="line"><span class="preprocessor">#elif defined(_WIN32)</span></div><div class="line"><span class="preprocessor">#if !defined(NDEBUG)</span></div><div class="line">    EXPECT_EQ(<span class="keyword">sizeof</span>(<a class="code" href="classplayrho_1_1d2_1_1Body.html#a4ba88ece0a09c327f597ffb3262195c6">Body::Contacts</a>), std::size_t(16));</div><div class="line"><span class="preprocessor">#else</span></div><div class="line">    EXPECT_EQ(<span class="keyword">sizeof</span>(<a class="code" href="classplayrho_1_1d2_1_1Body.html#a4ba88ece0a09c327f597ffb3262195c6">Body::Contacts</a>), std::size_t(12));</div><div class="line"><span class="preprocessor">#endif</span></div><div class="line"><span class="preprocessor">#else</span></div><div class="line">    <span class="comment">// Intentionally fail for unknown platform...</span></div><div class="line">    EXPECT_EQ(<span class="keyword">sizeof</span>(<a class="code" href="classplayrho_1_1d2_1_1Body.html#a4ba88ece0a09c327f597ffb3262195c6">Body::Contacts</a>), std::size_t(0));</div><div class="line"><span class="preprocessor">#endif</span></div><div class="line">}</div><div class="line"></div><div class="line">TEST(<a class="code" href="classplayrho_1_1d2_1_1Body.html">Body</a>, JointsByteSize)</div><div class="line">{</div><div class="line"><span class="preprocessor">#ifdef __APPLE__</span></div><div class="line">    EXPECT_EQ(<span class="keyword">sizeof</span>(<a class="code" href="classplayrho_1_1d2_1_1Body.html#a657fd78d921a36fffb9f8b918f059042">Body::Joints</a>), std::size_t(24));</div><div class="line"><span class="preprocessor">#elif __linux__</span></div><div class="line">    EXPECT_EQ(<span class="keyword">sizeof</span>(<a class="code" href="classplayrho_1_1d2_1_1Body.html#a657fd78d921a36fffb9f8b918f059042">Body::Joints</a>), std::size_t(24));</div><div class="line"><span class="preprocessor">#elif _WIN64</span></div><div class="line"><span class="preprocessor">#if defined(NDEBUG)</span></div><div class="line">    EXPECT_EQ(<span class="keyword">sizeof</span>(<a class="code" href="classplayrho_1_1d2_1_1Body.html#a657fd78d921a36fffb9f8b918f059042">Body::Joints</a>), std::size_t(24));</div><div class="line"><span class="preprocessor">#else</span></div><div class="line">    EXPECT_EQ(<span class="keyword">sizeof</span>(<a class="code" href="classplayrho_1_1d2_1_1Body.html#a657fd78d921a36fffb9f8b918f059042">Body::Joints</a>), std::size_t(32));</div><div class="line"><span class="preprocessor">#endif</span></div><div class="line"><span class="preprocessor">#elif _WIN32</span></div><div class="line"><span class="preprocessor">#if defined(NDEBUG)</span></div><div class="line">    EXPECT_EQ(<span class="keyword">sizeof</span>(<a class="code" href="classplayrho_1_1d2_1_1Body.html#a657fd78d921a36fffb9f8b918f059042">Body::Joints</a>), std::size_t(12));</div><div class="line"><span class="preprocessor">#else</span></div><div class="line">    EXPECT_EQ(<span class="keyword">sizeof</span>(<a class="code" href="classplayrho_1_1d2_1_1Body.html#a657fd78d921a36fffb9f8b918f059042">Body::Joints</a>), std::size_t(16));</div><div class="line"><span class="preprocessor">#endif</span></div><div class="line"><span class="preprocessor">#else // !__APPLE__ &amp;&amp; !__linux__ &amp;&amp; !_WIN64 &amp;&amp; !_WIN32</span></div><div class="line">    <span class="comment">// Intentionally fail for unknown platform...</span></div><div class="line">    EXPECT_EQ(<span class="keyword">sizeof</span>(<a class="code" href="classplayrho_1_1d2_1_1Body.html#a657fd78d921a36fffb9f8b918f059042">Body::Joints</a>), std::size_t(0));</div><div class="line"><span class="preprocessor">#endif</span></div><div class="line">}</div><div class="line"></div><div class="line">TEST(<a class="code" href="classplayrho_1_1d2_1_1Body.html">Body</a>, FixturesByteSize)</div><div class="line">{</div><div class="line">    <span class="comment">// Size is arch, os, or library dependent.</span></div><div class="line"><span class="preprocessor">#ifdef __APPLE__</span></div><div class="line">    EXPECT_EQ(<span class="keyword">sizeof</span>(<a class="code" href="classplayrho_1_1d2_1_1Body.html#a9a5e80674ee7bed8f9dfc11a6c5f1d68">Body::Fixtures</a>), std::size_t(24));</div><div class="line"><span class="preprocessor">#elif __linux__</span></div><div class="line">    EXPECT_EQ(<span class="keyword">sizeof</span>(<a class="code" href="classplayrho_1_1d2_1_1Body.html#a9a5e80674ee7bed8f9dfc11a6c5f1d68">Body::Fixtures</a>), std::size_t(24));</div><div class="line"><span class="preprocessor">#elif _WIN64</span></div><div class="line"><span class="preprocessor">#if !defined(NDEBUG)</span></div><div class="line">    EXPECT_EQ(<span class="keyword">sizeof</span>(<a class="code" href="classplayrho_1_1d2_1_1Body.html#a9a5e80674ee7bed8f9dfc11a6c5f1d68">Body::Fixtures</a>), std::size_t(32));</div><div class="line"><span class="preprocessor">#else</span></div><div class="line">    EXPECT_EQ(<span class="keyword">sizeof</span>(<a class="code" href="classplayrho_1_1d2_1_1Body.html#a9a5e80674ee7bed8f9dfc11a6c5f1d68">Body::Fixtures</a>), std::size_t(24));</div><div class="line"><span class="preprocessor">#endif</span></div><div class="line"><span class="preprocessor">#elif _WIN32</span></div><div class="line"><span class="preprocessor">#if !defined(NDEBUG)</span></div><div class="line">    EXPECT_EQ(<span class="keyword">sizeof</span>(<a class="code" href="classplayrho_1_1d2_1_1Body.html#a9a5e80674ee7bed8f9dfc11a6c5f1d68">Body::Fixtures</a>), std::size_t(16));</div><div class="line"><span class="preprocessor">#else</span></div><div class="line">    EXPECT_EQ(<span class="keyword">sizeof</span>(<a class="code" href="classplayrho_1_1d2_1_1Body.html#a9a5e80674ee7bed8f9dfc11a6c5f1d68">Body::Fixtures</a>), std::size_t(12));</div><div class="line"><span class="preprocessor">#endif</span></div><div class="line"><span class="preprocessor">#else</span></div><div class="line">    <span class="comment">// Intentionally fail for unknown platform...</span></div><div class="line">    EXPECT_EQ(<span class="keyword">sizeof</span>(<a class="code" href="classplayrho_1_1d2_1_1Body.html#a9a5e80674ee7bed8f9dfc11a6c5f1d68">Body::Fixtures</a>), std::size_t(0));</div><div class="line"><span class="preprocessor">#endif</span></div><div class="line">}</div><div class="line"></div><div class="line">TEST(<a class="code" href="classplayrho_1_1d2_1_1Body.html">Body</a>, ByteSize)</div><div class="line">{</div><div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> contactsSize = <span class="keyword">sizeof</span>(<a name="a10"></a><a class="code" href="classplayrho_1_1d2_1_1Body.html#a4ba88ece0a09c327f597ffb3262195c6">Body::Contacts</a>);</div><div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> jointsSize = <span class="keyword">sizeof</span>(<a name="a11"></a><a class="code" href="classplayrho_1_1d2_1_1Body.html#a657fd78d921a36fffb9f8b918f059042">Body::Joints</a>);</div><div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> fixturesSize = <span class="keyword">sizeof</span>(<a name="a12"></a><a class="code" href="classplayrho_1_1d2_1_1Body.html#a9a5e80674ee7bed8f9dfc11a6c5f1d68">Body::Fixtures</a>);</div><div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> allSize = contactsSize + jointsSize + fixturesSize;</div><div class="line"></div><div class="line"><span class="preprocessor">#if defined(_WIN64)</span></div><div class="line"><span class="preprocessor">#if !defined(NDEBUG)</span></div><div class="line">    EXPECT_EQ(allSize, std::size_t(96));</div><div class="line"><span class="preprocessor">#else</span></div><div class="line">    EXPECT_EQ(allSize, std::size_t(72));</div><div class="line"><span class="preprocessor">#endif</span></div><div class="line"><span class="preprocessor">#elif defined(_WIN32)</span></div><div class="line"><span class="preprocessor">#if !defined(NDEBUG)</span></div><div class="line">    EXPECT_EQ(allSize, std::size_t(48));</div><div class="line"><span class="preprocessor">#else</span></div><div class="line">    EXPECT_EQ(allSize, std::size_t(36));</div><div class="line"><span class="preprocessor">#endif</span></div><div class="line"><span class="preprocessor">#else</span></div><div class="line">    EXPECT_EQ(allSize, std::size_t(72));</div><div class="line"><span class="preprocessor">#endif</span></div><div class="line"></div><div class="line">    <span class="comment">// architecture dependent...</span></div><div class="line">    <span class="keywordflow">switch</span> (<span class="keyword">sizeof</span>(<a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>))</div><div class="line">    {</div><div class="line">        <span class="keywordflow">case</span>  4:</div><div class="line"><span class="preprocessor">#if defined(_WIN64)</span></div><div class="line">            EXPECT_EQ(<span class="keyword">sizeof</span>(<a class="code" href="classplayrho_1_1d2_1_1Body.html">Body</a>), std::size_t(192));</div><div class="line"><span class="preprocessor">#elif defined(_WIN32)</span></div><div class="line"><span class="preprocessor">#if !defined(NDEBUG)</span></div><div class="line">            <span class="comment">// Win32 debug</span></div><div class="line">            EXPECT_EQ(<span class="keyword">sizeof</span>(<a class="code" href="classplayrho_1_1d2_1_1Body.html">Body</a>), std::size_t(192));</div><div class="line"><span class="preprocessor">#else</span></div><div class="line">            <span class="comment">// Win32 release</span></div><div class="line">            EXPECT_EQ(<span class="keyword">sizeof</span>(<a class="code" href="classplayrho_1_1d2_1_1Body.html">Body</a>), std::size_t(144));</div><div class="line"><span class="preprocessor">#endif</span></div><div class="line"><span class="preprocessor">#else</span></div><div class="line">            EXPECT_EQ(<span class="keyword">sizeof</span>(<a class="code" href="classplayrho_1_1d2_1_1Body.html">Body</a>), std::size_t(192));</div><div class="line"><span class="preprocessor">#endif</span></div><div class="line">            <span class="keywordflow">break</span>;</div><div class="line">        <span class="keywordflow">case</span>  8:</div><div class="line">            EXPECT_EQ(<span class="keyword">sizeof</span>(<a class="code" href="classplayrho_1_1d2_1_1Body.html">Body</a>), std::size_t(288));</div><div class="line">            <span class="keywordflow">break</span>;</div><div class="line">        <span class="keywordflow">case</span> 16:</div><div class="line">            EXPECT_EQ(<span class="keyword">sizeof</span>(<a class="code" href="classplayrho_1_1d2_1_1Body.html">Body</a>), std::size_t(496));</div><div class="line">            <span class="keywordflow">break</span>;</div><div class="line">        <span class="keywordflow">default</span>: FAIL(); <span class="keywordflow">break</span>;</div><div class="line">    }</div><div class="line">}</div><div class="line"></div><div class="line">TEST(<a class="code" href="classplayrho_1_1d2_1_1Body.html">Body</a>, Traits)</div><div class="line">{</div><div class="line">    EXPECT_FALSE(std::is_default_constructible&lt;Body&gt;::value);</div><div class="line">    EXPECT_FALSE(std::is_nothrow_default_constructible&lt;Body&gt;::value);</div><div class="line">    EXPECT_FALSE(std::is_trivially_default_constructible&lt;Body&gt;::value);</div><div class="line">    </div><div class="line">    EXPECT_FALSE(std::is_constructible&lt;Body&gt;::value);</div><div class="line">    EXPECT_FALSE(std::is_nothrow_constructible&lt;Body&gt;::value);</div><div class="line">    EXPECT_FALSE(std::is_trivially_constructible&lt;Body&gt;::value);</div><div class="line">    </div><div class="line">    EXPECT_FALSE(std::is_copy_constructible&lt;Body&gt;::value);</div><div class="line">    EXPECT_FALSE(std::is_nothrow_copy_constructible&lt;Body&gt;::value);</div><div class="line">    EXPECT_FALSE(std::is_trivially_copy_constructible&lt;Body&gt;::value);</div><div class="line">    </div><div class="line">    EXPECT_FALSE(std::is_copy_assignable&lt;Body&gt;::value);</div><div class="line">    EXPECT_FALSE(std::is_nothrow_copy_assignable&lt;Body&gt;::value);</div><div class="line">    EXPECT_FALSE(std::is_trivially_copy_assignable&lt;Body&gt;::value);</div><div class="line">    </div><div class="line">    EXPECT_FALSE(std::is_destructible&lt;Body&gt;::value);</div><div class="line">    EXPECT_FALSE(std::is_nothrow_destructible&lt;Body&gt;::value);</div><div class="line">    EXPECT_FALSE(std::is_trivially_destructible&lt;Body&gt;::value);</div><div class="line">}</div><div class="line"></div><div class="line">TEST(<a class="code" href="classplayrho_1_1d2_1_1Body.html">Body</a>, GetFlagsStatic)</div><div class="line">{</div><div class="line">    EXPECT_TRUE(<a name="a13"></a><a class="code" href="classplayrho_1_1d2_1_1Body.html#a137e2e62f0ad8b1b21695955fd3b900e">Body::GetFlags</a>(<a class="code" href="structplayrho_1_1d2_1_1BodyConf.html">BodyConf</a>{}.<a name="a14"></a><a class="code" href="structplayrho_1_1d2_1_1BodyConf.html#a4dc47cc1deccec46ce415f2d220a442f">UseFixedRotation</a>(<span class="keyword">true</span>)) &amp; <a name="a15"></a><a class="code" href="classplayrho_1_1d2_1_1Body.html#af4715bc702e6250f6c2b8a748df751b1a221d6e987279b06446f29148ea305584">Body::e_fixedRotationFlag</a>);</div><div class="line">    EXPECT_TRUE(<a class="code" href="classplayrho_1_1d2_1_1Body.html#a137e2e62f0ad8b1b21695955fd3b900e">Body::GetFlags</a>(<a class="code" href="structplayrho_1_1d2_1_1BodyConf.html">BodyConf</a>{}</div><div class="line">                               .<a name="a16"></a><a class="code" href="structplayrho_1_1d2_1_1BodyConf.html#aac755c8253c80d97eb81f5f729f40ab7">UseAwake</a>(<span class="keyword">false</span>)</div><div class="line">                               .<a name="a17"></a><a class="code" href="structplayrho_1_1d2_1_1BodyConf.html#ad74f29e466479905aa2af02aa4cbc65e">UseAllowSleep</a>(<span class="keyword">false</span>)</div><div class="line">                               .<a name="a18"></a><a class="code" href="structplayrho_1_1d2_1_1BodyConf.html#ac2af87244b6172527a527793ff3614fc">UseType</a>(<a name="a19"></a><a class="code" href="namespaceplayrho.html#a098b0ef528e3b728af8e3e17873963f7a971fd8cc345d8bd9f92e9f7d88fdf20c">BodyType::Dynamic</a>)) &amp; <a name="a20"></a><a class="code" href="classplayrho_1_1d2_1_1Body.html#af4715bc702e6250f6c2b8a748df751b1a2d0838d2a70832764fca9f12290e316e">Body::e_awakeFlag</a>);</div><div class="line">}</div><div class="line"></div><div class="line">TEST(<a class="code" href="classplayrho_1_1d2_1_1Body.html">Body</a>, WorldCreated)</div><div class="line">{</div><div class="line">    <span class="keyword">auto</span> world = <a name="_a21"></a><a class="code" href="classplayrho_1_1d2_1_1World.html">World</a>{};</div><div class="line">    </div><div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> body = world.<a name="a22"></a><a class="code" href="classplayrho_1_1d2_1_1World.html#a66716e8c9020509c9891d9223a58be93">CreateBody</a>();</div><div class="line">    ASSERT_NE(body, <span class="keyword">nullptr</span>);</div><div class="line"></div><div class="line">    EXPECT_EQ(body-&gt;GetWorld(), &amp;world);</div><div class="line">    EXPECT_EQ(body-&gt;GetUserData(), <span class="keyword">nullptr</span>);</div><div class="line">    EXPECT_TRUE(body-&gt;IsEnabled());</div><div class="line">    EXPECT_FALSE(body-&gt;IsAwake());</div><div class="line">    EXPECT_FALSE(body-&gt;IsSpeedable());</div><div class="line">    EXPECT_FALSE(body-&gt;IsAccelerable());</div><div class="line">    </div><div class="line">    EXPECT_FALSE(<a name="a23"></a><a class="code" href="namespaceplayrho_1_1d2.html#a4834708af29bcc9ae39ebfc2b9f580f6">Awaken</a>(*body));</div><div class="line"></div><div class="line">    EXPECT_TRUE(body-&gt;GetFixtures().empty());</div><div class="line">    {</div><div class="line">        <span class="keyword">auto</span> i = 0;</div><div class="line">        <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp;&amp; fixture: body-&gt;GetFixtures())</div><div class="line">        {</div><div class="line">            EXPECT_EQ(<a name="a24"></a><a class="code" href="namespaceplayrho.html#a3c3194ff280eae2efe80483c3388891c">GetRef</a>(fixture).GetBody(), body);</div><div class="line">            ++i;</div><div class="line">        }</div><div class="line">        EXPECT_EQ(i, 0);</div><div class="line">    }</div><div class="line"></div><div class="line">    EXPECT_TRUE(body-&gt;GetJoints().empty());</div><div class="line">    {</div><div class="line">        <span class="keyword">auto</span> i = 0;</div><div class="line">        <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp;&amp; joint: body-&gt;GetJoints())</div><div class="line">        {</div><div class="line">            <a name="a25"></a><a class="code" href="namespaceplayrho.html#a465a2b892f4effbc98c1b2468d6eb56a">NOT_USED</a>(joint);</div><div class="line">            ++i;</div><div class="line">        }</div><div class="line">        EXPECT_EQ(i, 0);        </div><div class="line">    }</div><div class="line">    </div><div class="line">    EXPECT_TRUE(body-&gt;GetContacts().empty());</div><div class="line">    {</div><div class="line">        <span class="keyword">auto</span> i = 0;</div><div class="line">        <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp;&amp; ce: body-&gt;GetContacts())</div><div class="line">        {</div><div class="line">            <a class="code" href="namespaceplayrho.html#a465a2b892f4effbc98c1b2468d6eb56a">NOT_USED</a>(ce);</div><div class="line">            ++i;</div><div class="line">        }</div><div class="line">        EXPECT_EQ(i, 0);        </div><div class="line">    }</div><div class="line">}</div><div class="line"></div><div class="line">TEST(<a class="code" href="classplayrho_1_1d2_1_1Body.html">Body</a>, SetVelocityDoesNothingToStatic)</div><div class="line">{</div><div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> zeroVelocity = <a class="code" href="structplayrho_1_1d2_1_1Velocity.html">Velocity</a>{</div><div class="line">        <a class="code" href="structplayrho_1_1Vector.html">LinearVelocity2</a>{0_mps, 0_mps},</div><div class="line">        <a class="code" href="group__PhysicalQuantities.html#gac33f92018f7e8821550296aece465028">AngularVelocity</a>{<a name="a26"></a><a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>(0) * <a name="a27"></a><a class="code" href="group__PhysicalUnits.html#ga100ccbd2bb9a367b985c771244bfd06d">RadianPerSecond</a>}</div><div class="line">    };</div><div class="line"></div><div class="line">    <span class="keyword">auto</span> world = <a class="code" href="classplayrho_1_1d2_1_1World.html">World</a>{};</div><div class="line"></div><div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> body = world.<a class="code" href="classplayrho_1_1d2_1_1World.html#a66716e8c9020509c9891d9223a58be93">CreateBody</a>();</div><div class="line">    ASSERT_NE(body, <span class="keyword">nullptr</span>);</div><div class="line">    ASSERT_FALSE(body-&gt;IsAwake());</div><div class="line">    ASSERT_FALSE(body-&gt;IsSpeedable());</div><div class="line">    ASSERT_FALSE(body-&gt;IsAccelerable());</div><div class="line">    ASSERT_EQ(body-&gt;GetVelocity(), zeroVelocity);</div><div class="line">    </div><div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> velocity = <a class="code" href="structplayrho_1_1d2_1_1Velocity.html">Velocity</a>{</div><div class="line">        <a class="code" href="structplayrho_1_1Vector.html">LinearVelocity2</a>{1.1_mps, 1.1_mps},</div><div class="line">        <a class="code" href="group__PhysicalQuantities.html#gac33f92018f7e8821550296aece465028">AngularVelocity</a>{<a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>(1.1) * <a class="code" href="group__PhysicalUnits.html#ga100ccbd2bb9a367b985c771244bfd06d">RadianPerSecond</a>}</div><div class="line">    };</div><div class="line">    body-&gt;SetVelocity(velocity);</div><div class="line">    EXPECT_NE(body-&gt;GetVelocity(), velocity);</div><div class="line">    EXPECT_EQ(body-&gt;GetVelocity(), zeroVelocity);</div><div class="line">}</div><div class="line"></div><div class="line">TEST(<a class="code" href="classplayrho_1_1d2_1_1Body.html">Body</a>, CreateFixture)</div><div class="line">{</div><div class="line">    <span class="keyword">auto</span> world = <a class="code" href="classplayrho_1_1d2_1_1World.html">World</a>{};</div><div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> body = world.<a class="code" href="classplayrho_1_1d2_1_1World.html#a66716e8c9020509c9891d9223a58be93">CreateBody</a>();</div><div class="line">    EXPECT_EQ(<a name="a28"></a><a class="code" href="namespaceplayrho_1_1d2.html#a2b995406bae81c78866c12b59432a931">GetFixtureCount</a>(*body), std::size_t(0));</div><div class="line"></div><div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> valid_shape = <a name="_a29"></a><a class="code" href="classplayrho_1_1d2_1_1Shape.html">Shape</a>{<a name="_a30"></a><a class="code" href="structplayrho_1_1d2_1_1DiskShapeConf.html">DiskShapeConf</a>(1_m)};</div><div class="line">    EXPECT_NE(body-&gt;CreateFixture(valid_shape, <a name="_a31"></a><a class="code" href="structplayrho_1_1d2_1_1FixtureConf.html">FixtureConf</a>{}), <span class="keyword">nullptr</span>);</div><div class="line"></div><div class="line">    EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a2b995406bae81c78866c12b59432a931">GetFixtureCount</a>(*body), std::size_t(1));</div><div class="line">    </div><div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> minRadius = world.GetMinVertexRadius();</div><div class="line">    EXPECT_THROW(body-&gt;CreateFixture(<a class="code" href="classplayrho_1_1d2_1_1Shape.html">Shape</a>{DiskShapeConf{minRadius / 2}}), <a name="_a32"></a><a class="code" href="classplayrho_1_1InvalidArgument.html">InvalidArgument</a>);</div><div class="line">    </div><div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> maxRadius = world.GetMaxVertexRadius();</div><div class="line">    EXPECT_THROW(body-&gt;CreateFixture(<a class="code" href="classplayrho_1_1d2_1_1Shape.html">Shape</a>{DiskShapeConf{maxRadius + maxRadius / 10}}), <a class="code" href="classplayrho_1_1InvalidArgument.html">InvalidArgument</a>);</div><div class="line">}</div><div class="line"></div><div class="line">TEST(<a class="code" href="classplayrho_1_1d2_1_1Body.html">Body</a>, Destroy)</div><div class="line">{</div><div class="line">    <span class="keyword">auto</span> world = <a class="code" href="classplayrho_1_1d2_1_1World.html">World</a>{};</div><div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> bodyA = world.<a class="code" href="classplayrho_1_1d2_1_1World.html#a66716e8c9020509c9891d9223a58be93">CreateBody</a>();</div><div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> bodyB = world.CreateBody();</div><div class="line">    ASSERT_EQ(<a name="a33"></a><a class="code" href="classplayrho_1_1d2_1_1Body.html#a2b995406bae81c78866c12b59432a931">GetFixtureCount</a>(*bodyA), std::size_t(0));</div><div class="line">    ASSERT_EQ(<a class="code" href="classplayrho_1_1d2_1_1Body.html#a2b995406bae81c78866c12b59432a931">GetFixtureCount</a>(*bodyB), std::size_t(0));</div><div class="line"></div><div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> fixtureA = bodyA-&gt;CreateFixture(<a class="code" href="classplayrho_1_1d2_1_1Shape.html">Shape</a>{<a class="code" href="structplayrho_1_1d2_1_1DiskShapeConf.html">DiskShapeConf</a>(1_m)}, <a class="code" href="structplayrho_1_1d2_1_1FixtureConf.html">FixtureConf</a>{});</div><div class="line">    ASSERT_NE(fixtureA, <span class="keyword">nullptr</span>);</div><div class="line">    ASSERT_EQ(<a class="code" href="classplayrho_1_1d2_1_1Body.html#a2b995406bae81c78866c12b59432a931">GetFixtureCount</a>(*bodyA), std::size_t(1));</div><div class="line"></div><div class="line">    EXPECT_FALSE(bodyB-&gt;Destroy(fixtureA));</div><div class="line">    EXPECT_EQ(<a class="code" href="classplayrho_1_1d2_1_1Body.html#a2b995406bae81c78866c12b59432a931">GetFixtureCount</a>(*bodyA), std::size_t(1));</div><div class="line">    EXPECT_TRUE(bodyA-&gt;Destroy(fixtureA));</div><div class="line">    EXPECT_EQ(<a class="code" href="classplayrho_1_1d2_1_1Body.html#a2b995406bae81c78866c12b59432a931">GetFixtureCount</a>(*bodyA), std::size_t(0));</div><div class="line">}</div><div class="line"></div><div class="line">TEST(<a class="code" href="classplayrho_1_1d2_1_1Body.html">Body</a>, SetEnabled)</div><div class="line">{</div><div class="line">    <span class="keyword">auto</span> stepConf = <a name="_a34"></a><a class="code" href="classplayrho_1_1StepConf.html">StepConf</a>{};</div><div class="line">    <span class="keyword">auto</span> world = <a class="code" href="classplayrho_1_1d2_1_1World.html">World</a>{};</div><div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> body = world.<a class="code" href="classplayrho_1_1d2_1_1World.html#a66716e8c9020509c9891d9223a58be93">CreateBody</a>();</div><div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> valid_shape = <a class="code" href="classplayrho_1_1d2_1_1Shape.html">Shape</a>{<a class="code" href="structplayrho_1_1d2_1_1DiskShapeConf.html">DiskShapeConf</a>(1_m)};</div><div class="line"></div><div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> fixture = body-&gt;CreateFixture(valid_shape, <a class="code" href="structplayrho_1_1d2_1_1FixtureConf.html">FixtureConf</a>{});</div><div class="line">    ASSERT_NE(fixture, <span class="keyword">nullptr</span>);</div><div class="line">    ASSERT_TRUE(body-&gt;IsEnabled());</div><div class="line">    ASSERT_EQ(fixture-&gt;GetProxyCount(), 0u);</div><div class="line"></div><div class="line">    world.Step(stepConf);</div><div class="line">    EXPECT_EQ(fixture-&gt;GetProxyCount(), 1u);</div><div class="line"></div><div class="line">    <span class="comment">// Test that set enabled to flag already set is not a toggle</span></div><div class="line">    body-&gt;SetEnabled(<span class="keyword">true</span>);</div><div class="line">    EXPECT_TRUE(body-&gt;IsEnabled());</div><div class="line">    EXPECT_EQ(fixture-&gt;GetProxyCount(), 1u);</div><div class="line"></div><div class="line">    body-&gt;SetEnabled(<span class="keyword">false</span>);</div><div class="line">    EXPECT_FALSE(body-&gt;IsEnabled());</div><div class="line">    EXPECT_EQ(fixture-&gt;GetProxyCount(), 1u);</div><div class="line"></div><div class="line">    world.Step(stepConf);</div><div class="line">    EXPECT_EQ(fixture-&gt;GetProxyCount(), 0u);</div><div class="line">    </div><div class="line">    body-&gt;SetEnabled(<span class="keyword">true</span>);</div><div class="line">    EXPECT_TRUE(body-&gt;IsEnabled());</div><div class="line"></div><div class="line">    world.Step(stepConf);</div><div class="line">    EXPECT_EQ(fixture-&gt;GetProxyCount(), 1u);</div><div class="line">}</div><div class="line"></div><div class="line">TEST(<a class="code" href="classplayrho_1_1d2_1_1Body.html">Body</a>, SetFixedRotation)</div><div class="line">{</div><div class="line">    <span class="keyword">auto</span> world = <a class="code" href="classplayrho_1_1d2_1_1World.html">World</a>{};</div><div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> body = world.<a class="code" href="classplayrho_1_1d2_1_1World.html#a66716e8c9020509c9891d9223a58be93">CreateBody</a>();</div><div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> valid_shape = <a class="code" href="classplayrho_1_1d2_1_1Shape.html">Shape</a>{<a class="code" href="structplayrho_1_1d2_1_1DiskShapeConf.html">DiskShapeConf</a>(1_m)};</div><div class="line"></div><div class="line">    ASSERT_NE(body-&gt;CreateFixture(valid_shape, <a class="code" href="structplayrho_1_1d2_1_1FixtureConf.html">FixtureConf</a>{}), <span class="keyword">nullptr</span>);</div><div class="line">    ASSERT_FALSE(body-&gt;IsFixedRotation());</div><div class="line"></div><div class="line">    <span class="comment">// Test that set fixed rotation to flag already set is not a toggle</span></div><div class="line">    body-&gt;SetFixedRotation(<span class="keyword">false</span>);</div><div class="line">    EXPECT_FALSE(body-&gt;IsFixedRotation());</div><div class="line"></div><div class="line">    body-&gt;SetFixedRotation(<span class="keyword">true</span>);</div><div class="line">    EXPECT_TRUE(body-&gt;IsFixedRotation());</div><div class="line">    body-&gt;SetFixedRotation(<span class="keyword">false</span>);</div><div class="line">    EXPECT_FALSE(body-&gt;IsFixedRotation());</div><div class="line">}</div><div class="line"></div><div class="line">TEST(<a class="code" href="classplayrho_1_1d2_1_1Body.html">Body</a>, CreateAndDestroyFixture)</div><div class="line">{</div><div class="line">    <span class="keyword">auto</span> world = <a class="code" href="classplayrho_1_1d2_1_1World.html">World</a>{};</div><div class="line"></div><div class="line">    <span class="keyword">auto</span> body = world.<a class="code" href="classplayrho_1_1d2_1_1World.html#a66716e8c9020509c9891d9223a58be93">CreateBody</a>();</div><div class="line">    ASSERT_NE(body, <span class="keyword">nullptr</span>);</div><div class="line">    EXPECT_TRUE(body-&gt;GetFixtures().empty());</div><div class="line">    EXPECT_FALSE(body-&gt;IsMassDataDirty());</div><div class="line"></div><div class="line">    <span class="keyword">auto</span> conf = <a class="code" href="structplayrho_1_1d2_1_1DiskShapeConf.html">DiskShapeConf</a>{};</div><div class="line">    conf.<a name="a35"></a><a class="code" href="structplayrho_1_1d2_1_1DiskShapeConf.html#a2f1de4aa7db27a666fdd7f2f85130f7f">vertexRadius</a> = 2.871_m;</div><div class="line">    conf.location = <a class="code" href="structplayrho_1_1Vector.html">Vec2</a>{1.912f, -77.31f} * 1_m;</div><div class="line">    conf.density = 1_kgpm2;</div><div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> shape = <a class="code" href="classplayrho_1_1d2_1_1Shape.html">Shape</a>(conf);</div><div class="line">    </div><div class="line">    {</div><div class="line">        <span class="keyword">auto</span> fixture = body-&gt;CreateFixture(shape, <a class="code" href="structplayrho_1_1d2_1_1FixtureConf.html">FixtureConf</a>{}, <span class="keyword">false</span>);</div><div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span> fshape = fixture-&gt;GetShape();</div><div class="line">        EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a8d29a87b8865a1e42c35360ddc2bb6bf">GetVertexRadius</a>(fshape, 0), <a class="code" href="namespaceplayrho_1_1d2.html#a8d29a87b8865a1e42c35360ddc2bb6bf">GetVertexRadius</a>(shape, 0));</div><div class="line">        EXPECT_EQ(static_cast&lt;const DiskShapeConf*&gt;(<a class="code" href="namespaceplayrho_1_1d2.html#a9d716987feab31bac7d07bb19cb89599">GetData</a>(fshape))-&gt;<a name="a36"></a><a class="code" href="classplayrho_1_1d2_1_1Body.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(), conf.GetLocation());</div><div class="line">        EXPECT_FALSE(body-&gt;GetFixtures().empty());</div><div class="line">        {</div><div class="line">            <span class="keyword">auto</span> i = 0;</div><div class="line">            <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp;&amp; f: body-&gt;GetFixtures())</div><div class="line">            {</div><div class="line">                EXPECT_EQ(<a class="code" href="namespaceplayrho.html#a7657def9da2229b6a95d1a37008b0258">GetPtr</a>(f), fixture);</div><div class="line">                ++i;</div><div class="line">            }</div><div class="line">            EXPECT_EQ(i, 1);</div><div class="line">        }</div><div class="line">        EXPECT_TRUE(body-&gt;IsMassDataDirty());</div><div class="line">        body-&gt;ResetMassData();</div><div class="line">        EXPECT_FALSE(body-&gt;IsMassDataDirty());</div><div class="line"></div><div class="line">        body-&gt;Destroy(fixture, <span class="keyword">false</span>);</div><div class="line">        EXPECT_TRUE(body-&gt;GetFixtures().empty());</div><div class="line">        EXPECT_TRUE(body-&gt;IsMassDataDirty());</div><div class="line">        </div><div class="line">        body-&gt;ResetMassData();</div><div class="line">        EXPECT_FALSE(body-&gt;IsMassDataDirty());</div><div class="line">        </div><div class="line">        body-&gt;DestroyFixtures();</div><div class="line">        EXPECT_TRUE(body-&gt;GetFixtures().empty());</div><div class="line">    }</div><div class="line">    </div><div class="line">    {</div><div class="line">        <span class="keyword">auto</span> fixture = body-&gt;CreateFixture(shape, <a class="code" href="structplayrho_1_1d2_1_1FixtureConf.html">FixtureConf</a>{}, <span class="keyword">false</span>);</div><div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span> fshape = fixture-&gt;GetShape();</div><div class="line">        EXPECT_EQ(<a class="code" href="namespaceplayrho_1_1d2.html#a8d29a87b8865a1e42c35360ddc2bb6bf">GetVertexRadius</a>(fshape, 0), <a class="code" href="namespaceplayrho_1_1d2.html#a8d29a87b8865a1e42c35360ddc2bb6bf">GetVertexRadius</a>(shape, 0));</div><div class="line">        EXPECT_EQ(static_cast&lt;const DiskShapeConf*&gt;(<a class="code" href="namespaceplayrho_1_1d2.html#a9d716987feab31bac7d07bb19cb89599">GetData</a>(fshape))-&gt;<a class="code" href="classplayrho_1_1d2_1_1Body.html#a8a6f694cab71d0db91049dc0908de63f">GetLocation</a>(), conf.GetLocation());</div><div class="line">        EXPECT_FALSE(body-&gt;GetFixtures().empty());</div><div class="line">        {</div><div class="line">            <span class="keyword">auto</span> i = 0;</div><div class="line">            <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp;&amp; f: body-&gt;GetFixtures())</div><div class="line">            {</div><div class="line">                EXPECT_EQ(<a class="code" href="namespaceplayrho.html#a7657def9da2229b6a95d1a37008b0258">GetPtr</a>(f), fixture);</div><div class="line">                ++i;</div><div class="line">            }</div><div class="line">            EXPECT_EQ(i, 1);</div><div class="line">        }</div><div class="line">        EXPECT_TRUE(body-&gt;IsMassDataDirty());</div><div class="line">        body-&gt;ResetMassData();</div><div class="line">        EXPECT_FALSE(body-&gt;IsMassDataDirty());</div><div class="line">        EXPECT_FALSE(body-&gt;GetFixtures().empty());</div><div class="line">        </div><div class="line">        body-&gt;DestroyFixtures();</div><div class="line">        EXPECT_TRUE(body-&gt;GetFixtures().empty());</div><div class="line">        EXPECT_FALSE(body-&gt;IsMassDataDirty());</div><div class="line">    }</div><div class="line">}</div><div class="line"></div><div class="line">TEST(<a class="code" href="classplayrho_1_1d2_1_1Body.html">Body</a>, SetType)</div><div class="line">{</div><div class="line">    <span class="keyword">auto</span> bd = <a class="code" href="structplayrho_1_1d2_1_1BodyConf.html">BodyConf</a>{};</div><div class="line">    bd.<a name="a37"></a><a class="code" href="structplayrho_1_1d2_1_1BodyConf.html#a3f1a14b4e932c2e1fa3d78d8b069ec23">type</a> = BodyType::Dynamic;</div><div class="line">    <span class="keyword">auto</span> world = <a class="code" href="classplayrho_1_1d2_1_1World.html">World</a>{};</div><div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> body = world.<a class="code" href="classplayrho_1_1d2_1_1World.html#a66716e8c9020509c9891d9223a58be93">CreateBody</a>(bd);</div><div class="line">    ASSERT_EQ(body-&gt;GetType(), BodyType::Dynamic);</div><div class="line">    body-&gt;<a name="a38"></a><a class="code" href="classplayrho_1_1d2_1_1Body.html#a70dbc9501cd28a6e486d1de1852b582c">SetType</a>(BodyType::Static);</div><div class="line">    EXPECT_EQ(body-&gt;GetType(), BodyType::Static);</div><div class="line">    body-&gt;SetType(BodyType::Kinematic);</div><div class="line">    EXPECT_EQ(body-&gt;GetType(), BodyType::Kinematic);</div><div class="line">    body-&gt;SetType(BodyType::Dynamic);</div><div class="line">    EXPECT_EQ(body-&gt;GetType(), BodyType::Dynamic);</div><div class="line">}</div><div class="line"></div><div class="line">TEST(<a class="code" href="classplayrho_1_1d2_1_1Body.html">Body</a>, StaticIsExpected)</div><div class="line">{</div><div class="line">    <span class="keyword">auto</span> world = <a class="code" href="classplayrho_1_1d2_1_1World.html">World</a>{};</div><div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> body = world.<a class="code" href="classplayrho_1_1d2_1_1World.html#a66716e8c9020509c9891d9223a58be93">CreateBody</a>(<a class="code" href="structplayrho_1_1d2_1_1BodyConf.html">BodyConf</a>{}.<a class="code" href="structplayrho_1_1d2_1_1BodyConf.html#ac2af87244b6172527a527793ff3614fc">UseType</a>(BodyType::Static));</div><div class="line">    EXPECT_FALSE(body-&gt;IsAccelerable());</div><div class="line">    EXPECT_FALSE(body-&gt;IsSpeedable());</div><div class="line">    EXPECT_TRUE( body-&gt;IsImpenetrable());</div><div class="line">}</div><div class="line"></div><div class="line">TEST(<a class="code" href="classplayrho_1_1d2_1_1Body.html">Body</a>, KinematicIsExpected)</div><div class="line">{</div><div class="line">    <span class="keyword">auto</span> world = <a class="code" href="classplayrho_1_1d2_1_1World.html">World</a>{};</div><div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> body = world.<a class="code" href="classplayrho_1_1d2_1_1World.html#a66716e8c9020509c9891d9223a58be93">CreateBody</a>(<a class="code" href="structplayrho_1_1d2_1_1BodyConf.html">BodyConf</a>{}.<a class="code" href="structplayrho_1_1d2_1_1BodyConf.html#ac2af87244b6172527a527793ff3614fc">UseType</a>(BodyType::Kinematic));</div><div class="line">    EXPECT_FALSE(body-&gt;IsAccelerable());</div><div class="line">    EXPECT_TRUE( body-&gt;IsSpeedable());</div><div class="line">    EXPECT_TRUE( body-&gt;IsImpenetrable());</div><div class="line">}</div><div class="line"></div><div class="line">TEST(<a class="code" href="classplayrho_1_1d2_1_1Body.html">Body</a>, DynamicIsExpected)</div><div class="line">{</div><div class="line">    <span class="keyword">auto</span> world = <a class="code" href="classplayrho_1_1d2_1_1World.html">World</a>{};</div><div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> body = world.<a class="code" href="classplayrho_1_1d2_1_1World.html#a66716e8c9020509c9891d9223a58be93">CreateBody</a>(<a class="code" href="structplayrho_1_1d2_1_1BodyConf.html">BodyConf</a>{}.<a class="code" href="structplayrho_1_1d2_1_1BodyConf.html#ac2af87244b6172527a527793ff3614fc">UseType</a>(BodyType::Dynamic));</div><div class="line">    EXPECT_TRUE(body-&gt;IsAccelerable());</div><div class="line">    EXPECT_TRUE(body-&gt;IsSpeedable());</div><div class="line">    EXPECT_FALSE(body-&gt;IsImpenetrable());</div><div class="line">}</div><div class="line"></div><div class="line">TEST(<a class="code" href="classplayrho_1_1d2_1_1Body.html">Body</a>, SetMassData)</div><div class="line">{</div><div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> center = <a class="code" href="structplayrho_1_1Vector.html">Length2</a>{0_m, 0_m};</div><div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> mass = 32_kg;</div><div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> rotInertiaUnits = <a name="a39"></a><a class="code" href="group__PhysicalUnits.html#ga8df6e111fd792c1a81dd8c7ff5a06148">SquareMeter</a> * <a name="a40"></a><a class="code" href="group__PhysicalUnits.html#ga46997d28d69677820f127d640f529ccc">Kilogram</a> / <a name="a41"></a><a class="code" href="group__PhysicalUnits.html#gadba3c017800d0389a495a5ef783dac35">SquareRadian</a>;</div><div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> rotInertia = 3 * rotInertiaUnits; <span class="comment">// L^2 M QP^-2</span></div><div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> massData = <a name="_a42"></a><a class="code" href="structplayrho_1_1detail_1_1MassData.html">MassData</a>{center, mass, rotInertia};</div><div class="line">    </div><div class="line">    <span class="comment">// has effect on dynamic bodies...</span></div><div class="line">    {</div><div class="line">        <span class="keyword">auto</span> world = <a class="code" href="classplayrho_1_1d2_1_1World.html">World</a>{};</div><div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span> body = world.<a class="code" href="classplayrho_1_1d2_1_1World.html#a66716e8c9020509c9891d9223a58be93">CreateBody</a>(<a class="code" href="structplayrho_1_1d2_1_1BodyConf.html">BodyConf</a>{}.<a class="code" href="structplayrho_1_1d2_1_1BodyConf.html#ac2af87244b6172527a527793ff3614fc">UseType</a>(BodyType::Dynamic));</div><div class="line">        EXPECT_EQ(<a name="a43"></a><a class="code" href="classplayrho_1_1d2_1_1Body.html#a3c355eb58981b97e5901fa7d04052507">GetMass</a>(*body), 1_kg);</div><div class="line">        EXPECT_EQ(<a name="a44"></a><a class="code" href="classplayrho_1_1d2_1_1Body.html#a4c4c855f042444d0122919f8c1559ccb">GetRotInertia</a>(*body), std::numeric_limits&lt;Real&gt;::infinity() * rotInertiaUnits);</div><div class="line">        body-&gt;SetMassData(massData);</div><div class="line">        EXPECT_EQ(<a class="code" href="classplayrho_1_1d2_1_1Body.html#a3c355eb58981b97e5901fa7d04052507">GetMass</a>(*body), mass);</div><div class="line">        EXPECT_EQ(<a class="code" href="classplayrho_1_1d2_1_1Body.html#a4c4c855f042444d0122919f8c1559ccb">GetRotInertia</a>(*body), rotInertia);</div><div class="line">    }</div><div class="line">    </div><div class="line">    <span class="comment">// has no rotational effect on fixed rotation dynamic bodies...</span></div><div class="line">    {</div><div class="line">        <span class="keyword">auto</span> world = <a class="code" href="classplayrho_1_1d2_1_1World.html">World</a>{};</div><div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span> body = world.<a class="code" href="classplayrho_1_1d2_1_1World.html#a66716e8c9020509c9891d9223a58be93">CreateBody</a>(<a class="code" href="structplayrho_1_1d2_1_1BodyConf.html">BodyConf</a>{}.<a class="code" href="structplayrho_1_1d2_1_1BodyConf.html#ac2af87244b6172527a527793ff3614fc">UseType</a>(BodyType::Dynamic).<a class="code" href="structplayrho_1_1d2_1_1BodyConf.html#a4dc47cc1deccec46ce415f2d220a442f">UseFixedRotation</a>(<span class="keyword">true</span>));</div><div class="line">        EXPECT_EQ(<a class="code" href="classplayrho_1_1d2_1_1Body.html#a3c355eb58981b97e5901fa7d04052507">GetMass</a>(*body), 1_kg);</div><div class="line">        EXPECT_EQ(<a class="code" href="classplayrho_1_1d2_1_1Body.html#a4c4c855f042444d0122919f8c1559ccb">GetRotInertia</a>(*body), std::numeric_limits&lt;Real&gt;::infinity() * rotInertiaUnits);</div><div class="line">        body-&gt;SetMassData(massData);</div><div class="line">        EXPECT_EQ(<a class="code" href="classplayrho_1_1d2_1_1Body.html#a3c355eb58981b97e5901fa7d04052507">GetMass</a>(*body), mass);</div><div class="line">        EXPECT_EQ(<a class="code" href="classplayrho_1_1d2_1_1Body.html#a4c4c855f042444d0122919f8c1559ccb">GetRotInertia</a>(*body), std::numeric_limits&lt;Real&gt;::infinity() * rotInertiaUnits);</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="comment">// has no effect on static bodies...</span></div><div class="line">    {</div><div class="line">        <span class="keyword">auto</span> world = <a class="code" href="classplayrho_1_1d2_1_1World.html">World</a>{};</div><div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span> body = world.<a class="code" href="classplayrho_1_1d2_1_1World.html#a66716e8c9020509c9891d9223a58be93">CreateBody</a>(<a class="code" href="structplayrho_1_1d2_1_1BodyConf.html">BodyConf</a>{}.<a class="code" href="structplayrho_1_1d2_1_1BodyConf.html#ac2af87244b6172527a527793ff3614fc">UseType</a>(BodyType::Static));</div><div class="line">        EXPECT_EQ(<a class="code" href="classplayrho_1_1d2_1_1Body.html#a3c355eb58981b97e5901fa7d04052507">GetMass</a>(*body), 0_kg);</div><div class="line">        EXPECT_EQ(<a class="code" href="classplayrho_1_1d2_1_1Body.html#a4c4c855f042444d0122919f8c1559ccb">GetRotInertia</a>(*body), std::numeric_limits&lt;Real&gt;::infinity() * rotInertiaUnits);</div><div class="line">        body-&gt;SetMassData(massData);</div><div class="line">        EXPECT_EQ(<a class="code" href="classplayrho_1_1d2_1_1Body.html#a3c355eb58981b97e5901fa7d04052507">GetMass</a>(*body), 0_kg);</div><div class="line">        EXPECT_EQ(<a class="code" href="classplayrho_1_1d2_1_1Body.html#a4c4c855f042444d0122919f8c1559ccb">GetRotInertia</a>(*body), std::numeric_limits&lt;Real&gt;::infinity() * rotInertiaUnits);</div><div class="line">    }</div><div class="line">}</div><div class="line"></div><div class="line">TEST(<a class="code" href="classplayrho_1_1d2_1_1Body.html">Body</a>, SetTransform)</div><div class="line">{</div><div class="line">    <span class="keyword">auto</span> bd = <a class="code" href="structplayrho_1_1d2_1_1BodyConf.html">BodyConf</a>{};</div><div class="line">    bd.<a class="code" href="structplayrho_1_1d2_1_1BodyConf.html#a3f1a14b4e932c2e1fa3d78d8b069ec23">type</a> = BodyType::Dynamic;</div><div class="line">    <span class="keyword">auto</span> world = <a class="code" href="classplayrho_1_1d2_1_1World.html">World</a>{};</div><div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> body = world.<a class="code" href="classplayrho_1_1d2_1_1World.html#a66716e8c9020509c9891d9223a58be93">CreateBody</a>(bd);</div><div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> xfm1 = <a name="_a45"></a><a class="code" href="structplayrho_1_1d2_1_1Transformation.html">Transformation</a>{<a class="code" href="structplayrho_1_1Vector.html">Length2</a>{}, UnitVec::GetRight()};</div><div class="line">    ASSERT_EQ(body-&gt;GetTransformation(), xfm1);</div><div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> xfm2 = <a class="code" href="structplayrho_1_1d2_1_1Transformation.html">Transformation</a>{<a class="code" href="structplayrho_1_1Vector.html">Vec2</a>(10, -12) * 1_m, UnitVec::GetLeft()};</div><div class="line">    body-&gt;SetTransform(xfm2.p, <a name="a46"></a><a class="code" href="classplayrho_1_1d2_1_1Body.html#a93f21ae0c92245d912cb91a99e756946">GetAngle</a>(xfm2.q));</div><div class="line">    EXPECT_EQ(body-&gt;GetTransformation().p, xfm2.p);</div><div class="line">    EXPECT_NEAR(static_cast&lt;double&gt;(<a class="code" href="namespaceplayrho.html#ac40645d0127c8fd699610de821aebb57">GetX</a>(body-&gt;GetTransformation().q)),</div><div class="line">                <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(<a class="code" href="namespaceplayrho.html#ac40645d0127c8fd699610de821aebb57">GetX</a>(xfm2.q)),</div><div class="line">                0.001);</div><div class="line">    EXPECT_NEAR(static_cast&lt;double&gt;(<a class="code" href="namespaceplayrho.html#ac8e87b921726f7c140ea35db1913ac6c">GetY</a>(body-&gt;GetTransformation().q)),</div><div class="line">                <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(<a class="code" href="namespaceplayrho.html#ac8e87b921726f7c140ea35db1913ac6c">GetY</a>(xfm2.q)),</div><div class="line">                0.001);</div><div class="line">}</div><div class="line"></div><div class="line">TEST(<a class="code" href="classplayrho_1_1d2_1_1Body.html">Body</a>, <a name="a47"></a><a class="code" href="classplayrho_1_1d2_1_1Body.html#a438e172db303ae0ab53263bc6af419ad">SetAcceleration</a>)</div><div class="line">{</div><div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> someLinearAccel = <a class="code" href="structplayrho_1_1Vector.html">LinearAcceleration2</a>{2 * <a name="a48"></a><a class="code" href="group__PhysicalUnits.html#ga6d200ec14214ce97214a95ec2f83c626">MeterPerSquareSecond</a>, 3 * <a class="code" href="group__PhysicalUnits.html#ga6d200ec14214ce97214a95ec2f83c626">MeterPerSquareSecond</a>};</div><div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> someAngularAccel = 2 * <a name="a49"></a><a class="code" href="group__PhysicalUnits.html#gaea803bc1b5ab2d6a9959f4d4edc06a8b">RadianPerSquareSecond</a>;</div><div class="line"></div><div class="line">    {</div><div class="line">        <span class="keyword">auto</span> world = <a class="code" href="classplayrho_1_1d2_1_1World.html">World</a>{};</div><div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span> body = world.<a class="code" href="classplayrho_1_1d2_1_1World.html#a66716e8c9020509c9891d9223a58be93">CreateBody</a>(<a class="code" href="structplayrho_1_1d2_1_1BodyConf.html">BodyConf</a>{}.<a class="code" href="structplayrho_1_1d2_1_1BodyConf.html#ac2af87244b6172527a527793ff3614fc">UseType</a>(BodyType::Static));</div><div class="line">        ASSERT_EQ(body-&gt;GetLinearAcceleration(), <a class="code" href="structplayrho_1_1Vector.html">LinearAcceleration2</a>{});</div><div class="line">        ASSERT_EQ(body-&gt;GetAngularAcceleration(), 0 * <a class="code" href="group__PhysicalUnits.html#gaea803bc1b5ab2d6a9959f4d4edc06a8b">RadianPerSquareSecond</a>);</div><div class="line">        ASSERT_FALSE(body-&gt;IsAwake());</div><div class="line">        body-&gt;<a name="a50"></a><a class="code" href="classplayrho_1_1d2_1_1Body.html#a7821d9464b36b49ddb893ef9c2c262fb">UnsetAwake</a>();</div><div class="line">        ASSERT_FALSE(body-&gt;IsAwake());</div><div class="line">        </div><div class="line">        body-&gt;SetAcceleration(<a class="code" href="structplayrho_1_1Vector.html">LinearAcceleration2</a>{}, <a class="code" href="group__PhysicalQuantities.html#gafcce543a0d59f313adb801e2e18ede86">AngularAcceleration</a>{});</div><div class="line">        EXPECT_EQ(body-&gt;GetLinearAcceleration(), <a class="code" href="structplayrho_1_1Vector.html">LinearAcceleration2</a>{});</div><div class="line">        EXPECT_EQ(body-&gt;GetAngularAcceleration(), 0 * <a class="code" href="group__PhysicalUnits.html#gaea803bc1b5ab2d6a9959f4d4edc06a8b">RadianPerSquareSecond</a>);</div><div class="line">        EXPECT_FALSE(body-&gt;IsAwake());</div><div class="line"></div><div class="line">        body-&gt;SetAcceleration(<a class="code" href="structplayrho_1_1Vector.html">LinearAcceleration2</a>{}, someAngularAccel);</div><div class="line">        EXPECT_EQ(body-&gt;GetLinearAcceleration(), <a class="code" href="structplayrho_1_1Vector.html">LinearAcceleration2</a>{});</div><div class="line">        EXPECT_EQ(body-&gt;GetAngularAcceleration(), 0 * <a class="code" href="group__PhysicalUnits.html#gaea803bc1b5ab2d6a9959f4d4edc06a8b">RadianPerSquareSecond</a>);</div><div class="line">        EXPECT_FALSE(body-&gt;IsAwake());</div><div class="line"></div><div class="line">        body-&gt;SetAcceleration(someLinearAccel, <a class="code" href="group__PhysicalQuantities.html#gafcce543a0d59f313adb801e2e18ede86">AngularAcceleration</a>{});</div><div class="line">        EXPECT_EQ(body-&gt;GetLinearAcceleration(), <a class="code" href="structplayrho_1_1Vector.html">LinearAcceleration2</a>{});</div><div class="line">        EXPECT_EQ(body-&gt;GetAngularAcceleration(), 0 * <a class="code" href="group__PhysicalUnits.html#gaea803bc1b5ab2d6a9959f4d4edc06a8b">RadianPerSquareSecond</a>);</div><div class="line">        EXPECT_FALSE(body-&gt;IsAwake());</div><div class="line">    }</div><div class="line">    </div><div class="line">    <span class="comment">// Kinematic and dynamic bodies awake at creation...</span></div><div class="line">    {</div><div class="line">        <span class="keyword">auto</span> world = <a class="code" href="classplayrho_1_1d2_1_1World.html">World</a>{};</div><div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span> body = world.<a class="code" href="classplayrho_1_1d2_1_1World.html#a66716e8c9020509c9891d9223a58be93">CreateBody</a>(<a class="code" href="structplayrho_1_1d2_1_1BodyConf.html">BodyConf</a>{}.<a class="code" href="structplayrho_1_1d2_1_1BodyConf.html#ac2af87244b6172527a527793ff3614fc">UseType</a>(BodyType::Kinematic));</div><div class="line">        ASSERT_EQ(body-&gt;GetLinearAcceleration(), <a class="code" href="structplayrho_1_1Vector.html">LinearAcceleration2</a>{});</div><div class="line">        ASSERT_TRUE(body-&gt;IsAwake());</div><div class="line">        body-&gt;<a class="code" href="classplayrho_1_1d2_1_1Body.html#a7821d9464b36b49ddb893ef9c2c262fb">UnsetAwake</a>();</div><div class="line">        ASSERT_FALSE(body-&gt;IsAwake());</div><div class="line">        </div><div class="line">        body-&gt;SetAcceleration(<a class="code" href="structplayrho_1_1Vector.html">LinearAcceleration2</a>{}, <a class="code" href="group__PhysicalQuantities.html#gafcce543a0d59f313adb801e2e18ede86">AngularAcceleration</a>{});</div><div class="line">        EXPECT_EQ(body-&gt;GetLinearAcceleration(), <a class="code" href="structplayrho_1_1Vector.html">LinearAcceleration2</a>{});</div><div class="line">        EXPECT_EQ(body-&gt;GetAngularAcceleration(), 0 * <a class="code" href="group__PhysicalUnits.html#gaea803bc1b5ab2d6a9959f4d4edc06a8b">RadianPerSquareSecond</a>);</div><div class="line">        EXPECT_FALSE(body-&gt;IsAwake());</div><div class="line">        </div><div class="line">        body-&gt;SetAcceleration(<a class="code" href="structplayrho_1_1Vector.html">LinearAcceleration2</a>{}, someAngularAccel);</div><div class="line">        EXPECT_EQ(body-&gt;GetLinearAcceleration(), <a class="code" href="structplayrho_1_1Vector.html">LinearAcceleration2</a>{});</div><div class="line">        EXPECT_EQ(body-&gt;GetAngularAcceleration(), 0 * <a class="code" href="group__PhysicalUnits.html#gaea803bc1b5ab2d6a9959f4d4edc06a8b">RadianPerSquareSecond</a>);</div><div class="line">        EXPECT_FALSE(body-&gt;IsAwake());</div><div class="line">        </div><div class="line">        body-&gt;SetAcceleration(someLinearAccel, <a class="code" href="group__PhysicalQuantities.html#gafcce543a0d59f313adb801e2e18ede86">AngularAcceleration</a>{});</div><div class="line">        EXPECT_EQ(body-&gt;GetLinearAcceleration(), <a class="code" href="structplayrho_1_1Vector.html">LinearAcceleration2</a>{});</div><div class="line">        EXPECT_EQ(body-&gt;GetAngularAcceleration(), 0 * <a class="code" href="group__PhysicalUnits.html#gaea803bc1b5ab2d6a9959f4d4edc06a8b">RadianPerSquareSecond</a>);</div><div class="line">        EXPECT_FALSE(body-&gt;IsAwake());</div><div class="line">    }</div><div class="line">    </div><div class="line">    <span class="comment">// Dynamic bodies take a non-zero linear or angular acceleration.</span></div><div class="line">    {</div><div class="line">        <span class="keyword">auto</span> world = <a class="code" href="classplayrho_1_1d2_1_1World.html">World</a>{};</div><div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span> body = world.<a class="code" href="classplayrho_1_1d2_1_1World.html#a66716e8c9020509c9891d9223a58be93">CreateBody</a>(<a class="code" href="structplayrho_1_1d2_1_1BodyConf.html">BodyConf</a>{}.<a class="code" href="structplayrho_1_1d2_1_1BodyConf.html#ac2af87244b6172527a527793ff3614fc">UseType</a>(BodyType::Dynamic));</div><div class="line">        ASSERT_EQ(body-&gt;GetLinearAcceleration(), <a class="code" href="structplayrho_1_1Vector.html">LinearAcceleration2</a>{});</div><div class="line">        ASSERT_EQ(body-&gt;GetAngularAcceleration(), 0 * <a class="code" href="group__PhysicalUnits.html#gaea803bc1b5ab2d6a9959f4d4edc06a8b">RadianPerSquareSecond</a>);</div><div class="line">        ASSERT_TRUE(body-&gt;IsAwake());</div><div class="line">        body-&gt;<a class="code" href="classplayrho_1_1d2_1_1Body.html#a7821d9464b36b49ddb893ef9c2c262fb">UnsetAwake</a>();</div><div class="line">        ASSERT_FALSE(body-&gt;IsAwake());</div><div class="line">        </div><div class="line">        body-&gt;SetAcceleration(<a class="code" href="structplayrho_1_1Vector.html">LinearAcceleration2</a>{}, <a class="code" href="group__PhysicalQuantities.html#gafcce543a0d59f313adb801e2e18ede86">AngularAcceleration</a>{});</div><div class="line">        EXPECT_EQ(body-&gt;GetLinearAcceleration(), <a class="code" href="structplayrho_1_1Vector.html">LinearAcceleration2</a>{});</div><div class="line">        EXPECT_EQ(body-&gt;GetAngularAcceleration(), 0 * <a class="code" href="group__PhysicalUnits.html#gaea803bc1b5ab2d6a9959f4d4edc06a8b">RadianPerSquareSecond</a>);</div><div class="line">        EXPECT_FALSE(body-&gt;IsAwake());</div><div class="line">        </div><div class="line">        body-&gt;SetAcceleration(<a class="code" href="structplayrho_1_1Vector.html">LinearAcceleration2</a>{}, someAngularAccel);</div><div class="line">        EXPECT_EQ(body-&gt;GetLinearAcceleration(), <a class="code" href="structplayrho_1_1Vector.html">LinearAcceleration2</a>{});</div><div class="line">        EXPECT_EQ(body-&gt;GetAngularAcceleration(), someAngularAccel);</div><div class="line">        EXPECT_TRUE(body-&gt;IsAwake());</div><div class="line">        </div><div class="line">        body-&gt;SetAcceleration(someLinearAccel, <a class="code" href="group__PhysicalQuantities.html#gafcce543a0d59f313adb801e2e18ede86">AngularAcceleration</a>{});</div><div class="line">        EXPECT_EQ(body-&gt;GetLinearAcceleration(), someLinearAccel);</div><div class="line">        EXPECT_EQ(body-&gt;GetAngularAcceleration(), 0 * <a class="code" href="group__PhysicalUnits.html#gaea803bc1b5ab2d6a9959f4d4edc06a8b">RadianPerSquareSecond</a>);</div><div class="line">        EXPECT_TRUE(body-&gt;IsAwake());</div><div class="line">        </div><div class="line">        body-&gt;SetAcceleration(someLinearAccel, someAngularAccel);</div><div class="line">        EXPECT_EQ(body-&gt;GetLinearAcceleration(), someLinearAccel);</div><div class="line">        EXPECT_EQ(body-&gt;GetAngularAcceleration(), someAngularAccel);</div><div class="line">        EXPECT_TRUE(body-&gt;IsAwake());</div><div class="line"></div><div class="line">        body-&gt;UnsetAwake();</div><div class="line">        ASSERT_FALSE(body-&gt;IsAwake());</div><div class="line">        EXPECT_EQ(body-&gt;GetLinearAcceleration(), someLinearAccel);</div><div class="line">        EXPECT_EQ(body-&gt;GetAngularAcceleration(), someAngularAccel);</div><div class="line">        </div><div class="line">        <span class="comment">// Reseting to same acceleration shouldn&#39;t change asleep status...</span></div><div class="line">        body-&gt;SetAcceleration(someLinearAccel, someAngularAccel);</div><div class="line">        EXPECT_FALSE(body-&gt;IsAwake());</div><div class="line">        EXPECT_EQ(body-&gt;GetLinearAcceleration(), someLinearAccel);</div><div class="line">        EXPECT_EQ(body-&gt;GetAngularAcceleration(), someAngularAccel);</div><div class="line">        </div><div class="line">        <span class="comment">// Seting to lower acceleration shouldn&#39;t change asleep status...</span></div><div class="line">        body-&gt;SetAcceleration(someLinearAccel * 0.5f, someAngularAccel * 0.9f);</div><div class="line">        EXPECT_FALSE(body-&gt;IsAwake());</div><div class="line">        EXPECT_EQ(body-&gt;GetLinearAcceleration(), someLinearAccel * 0.5f);</div><div class="line">        EXPECT_EQ(body-&gt;GetAngularAcceleration(), someAngularAccel * 0.9f);</div><div class="line"></div><div class="line">        <span class="comment">// Seting to higher acceleration or new direction should awaken...</span></div><div class="line">        body-&gt;SetAcceleration(someLinearAccel * 1.5f, someAngularAccel * 1.9f);</div><div class="line">        EXPECT_TRUE(body-&gt;IsAwake());</div><div class="line">        EXPECT_EQ(body-&gt;GetLinearAcceleration(), someLinearAccel * 1.5f);</div><div class="line">        EXPECT_EQ(body-&gt;GetAngularAcceleration(), someAngularAccel * 1.9f);</div><div class="line">        body-&gt;UnsetAwake();</div><div class="line">        ASSERT_FALSE(body-&gt;IsAwake());</div><div class="line">        body-&gt;SetAcceleration(someLinearAccel * 1.5f, someAngularAccel * 2.0f);</div><div class="line">        EXPECT_TRUE(body-&gt;IsAwake());</div><div class="line">        EXPECT_EQ(body-&gt;GetLinearAcceleration(), someLinearAccel * 1.5f);</div><div class="line">        EXPECT_EQ(body-&gt;GetAngularAcceleration(), someAngularAccel * 2.0f);</div><div class="line">        body-&gt;UnsetAwake();</div><div class="line">        ASSERT_FALSE(body-&gt;IsAwake());</div><div class="line">        body-&gt;SetAcceleration(someLinearAccel * 2.0f, someAngularAccel * 2.0f);</div><div class="line">        EXPECT_TRUE(body-&gt;IsAwake());</div><div class="line">        EXPECT_EQ(body-&gt;GetLinearAcceleration(), someLinearAccel * 2.0f);</div><div class="line">        EXPECT_EQ(body-&gt;GetAngularAcceleration(), someAngularAccel * 2.0f);</div><div class="line">        body-&gt;UnsetAwake();</div><div class="line">        ASSERT_FALSE(body-&gt;IsAwake());</div><div class="line">        body-&gt;SetAcceleration(someLinearAccel * -1.0f, someAngularAccel * 2.0f);</div><div class="line">        EXPECT_TRUE(body-&gt;IsAwake());</div><div class="line">        EXPECT_EQ(body-&gt;GetLinearAcceleration(), someLinearAccel * -1.0f);</div><div class="line">        EXPECT_EQ(body-&gt;GetAngularAcceleration(), someAngularAccel * 2.0f);</div><div class="line">    }</div><div class="line">}</div><div class="line"></div><div class="line">TEST(<a class="code" href="classplayrho_1_1d2_1_1Body.html">Body</a>, CreateLotsOfFixtures)</div><div class="line">{</div><div class="line">    <span class="keyword">auto</span> bd = <a class="code" href="structplayrho_1_1d2_1_1BodyConf.html">BodyConf</a>{};</div><div class="line">    bd.<a class="code" href="structplayrho_1_1d2_1_1BodyConf.html#a3f1a14b4e932c2e1fa3d78d8b069ec23">type</a> = BodyType::Dynamic;</div><div class="line">    <span class="keyword">auto</span> conf = <a class="code" href="structplayrho_1_1d2_1_1DiskShapeConf.html">DiskShapeConf</a>{};</div><div class="line">    conf.<a class="code" href="structplayrho_1_1d2_1_1DiskShapeConf.html#a2f1de4aa7db27a666fdd7f2f85130f7f">vertexRadius</a> = 2.871_m;</div><div class="line">    conf.location = <a class="code" href="structplayrho_1_1Vector.html">Vec2</a>{1.912f, -77.31f} * 1_m;</div><div class="line">    conf.density = 1.3_kgpm2;</div><div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> shape = <a class="code" href="classplayrho_1_1d2_1_1Shape.html">Shape</a>(conf);</div><div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> num = 5000;</div><div class="line">    std::chrono::time_point&lt;std::chrono::system_clock&gt; start, end;</div><div class="line">    </div><div class="line">    start = std::chrono::system_clock::now();</div><div class="line">    {</div><div class="line">        <span class="keyword">auto</span> world = <a class="code" href="classplayrho_1_1d2_1_1World.html">World</a>{};</div><div class="line"></div><div class="line">        <span class="keyword">auto</span> body = world.<a class="code" href="classplayrho_1_1d2_1_1World.html#a66716e8c9020509c9891d9223a58be93">CreateBody</a>(bd);</div><div class="line">        ASSERT_NE(body, <span class="keyword">nullptr</span>);</div><div class="line">        EXPECT_TRUE(body-&gt;GetFixtures().empty());</div><div class="line">        </div><div class="line">        <span class="keywordflow">for</span> (<span class="keyword">auto</span> i = decltype(num){0}; i &lt; num; ++i)</div><div class="line">        {</div><div class="line">            <span class="keyword">auto</span> fixture = body-&gt;CreateFixture(shape, <a class="code" href="structplayrho_1_1d2_1_1FixtureConf.html">FixtureConf</a>{}, <span class="keyword">false</span>);</div><div class="line">            ASSERT_NE(fixture, <span class="keyword">nullptr</span>);</div><div class="line">        }</div><div class="line">        body-&gt;ResetMassData();</div><div class="line">        </div><div class="line">        EXPECT_FALSE(body-&gt;GetFixtures().empty());</div><div class="line">        {</div><div class="line">            <span class="keywordtype">int</span> i = decltype(num){0};</div><div class="line">            <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp;&amp; f: body-&gt;GetFixtures())</div><div class="line">            {</div><div class="line">                <a class="code" href="namespaceplayrho.html#a465a2b892f4effbc98c1b2468d6eb56a">NOT_USED</a>(f);</div><div class="line">                ++i;</div><div class="line">            }</div><div class="line">            EXPECT_EQ(i, num);</div><div class="line">        }</div><div class="line">    }</div><div class="line">    end = std::chrono::system_clock::now();</div><div class="line">    <span class="keyword">const</span> std::chrono::duration&lt;double&gt; elapsed_secs_resetting_at_end = end - start;</div><div class="line"></div><div class="line">    start = std::chrono::system_clock::now();</div><div class="line">    {</div><div class="line">        <span class="keyword">auto</span> world = <a class="code" href="classplayrho_1_1d2_1_1World.html">World</a>{};</div><div class="line">        </div><div class="line">        <span class="keyword">auto</span> body = world.<a class="code" href="classplayrho_1_1d2_1_1World.html#a66716e8c9020509c9891d9223a58be93">CreateBody</a>(bd);</div><div class="line">        ASSERT_NE(body, <span class="keyword">nullptr</span>);</div><div class="line">        EXPECT_TRUE(body-&gt;GetFixtures().empty());</div><div class="line">        </div><div class="line">        <span class="keywordflow">for</span> (<span class="keyword">auto</span> i = decltype(num){0}; i &lt; num; ++i)</div><div class="line">        {</div><div class="line">            <span class="keyword">auto</span> fixture = body-&gt;CreateFixture(shape, <a class="code" href="structplayrho_1_1d2_1_1FixtureConf.html">FixtureConf</a>{}, <span class="keyword">true</span>);</div><div class="line">            ASSERT_NE(fixture, <span class="keyword">nullptr</span>);</div><div class="line">        }</div><div class="line">        </div><div class="line">        EXPECT_FALSE(body-&gt;GetFixtures().empty());</div><div class="line">        {</div><div class="line">            <span class="keyword">auto</span> i = decltype(num){0};</div><div class="line">            <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp;&amp; f: body-&gt;GetFixtures())</div><div class="line">            {</div><div class="line">                <a class="code" href="namespaceplayrho.html#a465a2b892f4effbc98c1b2468d6eb56a">NOT_USED</a>(f);</div><div class="line">                ++i;</div><div class="line">            }</div><div class="line">            EXPECT_EQ(i, num);</div><div class="line">        }</div><div class="line">    }</div><div class="line">    end = std::chrono::system_clock::now();</div><div class="line">    <span class="keyword">const</span> std::chrono::duration&lt;double&gt; elapsed_secs_resetting_in_create = end - start;</div><div class="line"></div><div class="line">    EXPECT_LT(elapsed_secs_resetting_at_end.count(), elapsed_secs_resetting_in_create.count());</div><div class="line">}</div><div class="line"></div><div class="line">TEST(<a class="code" href="classplayrho_1_1d2_1_1Body.html">Body</a>, <a name="a51"></a><a class="code" href="classplayrho_1_1d2_1_1Body.html#a2c6a1ec2274053b6d4cdece776faaad4">GetWorldIndex</a>)</div><div class="line">{</div><div class="line">    <span class="keyword">auto</span> world = <a class="code" href="classplayrho_1_1d2_1_1World.html">World</a>{};</div><div class="line">    ASSERT_EQ(world.GetBodies().size(), std::size_t(0));</div><div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> body0 = world.<a class="code" href="classplayrho_1_1d2_1_1World.html#a66716e8c9020509c9891d9223a58be93">CreateBody</a>();</div><div class="line">    ASSERT_EQ(world.GetBodies().size(), std::size_t(1));</div><div class="line">    EXPECT_EQ(<a class="code" href="classplayrho_1_1d2_1_1Body.html#a2c6a1ec2274053b6d4cdece776faaad4">GetWorldIndex</a>(body0), <a class="code" href="namespaceplayrho.html#a4106d8a0e998a2485196534514527a5a">BodyCounter</a>(0));</div><div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> body1 = world.CreateBody();</div><div class="line">    ASSERT_EQ(world.GetBodies().size(), std::size_t(2));</div><div class="line">    EXPECT_EQ(<a class="code" href="classplayrho_1_1d2_1_1Body.html#a2c6a1ec2274053b6d4cdece776faaad4">GetWorldIndex</a>(body1), <a class="code" href="namespaceplayrho.html#a4106d8a0e998a2485196534514527a5a">BodyCounter</a>(1));</div><div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> body2 = world.CreateBody();</div><div class="line">    ASSERT_EQ(world.GetBodies().size(), std::size_t(3));</div><div class="line">    EXPECT_EQ(<a class="code" href="classplayrho_1_1d2_1_1Body.html#a2c6a1ec2274053b6d4cdece776faaad4">GetWorldIndex</a>(body2), <a class="code" href="namespaceplayrho.html#a4106d8a0e998a2485196534514527a5a">BodyCounter</a>(2));</div><div class="line">    EXPECT_EQ(<a class="code" href="classplayrho_1_1d2_1_1Body.html#a2c6a1ec2274053b6d4cdece776faaad4">GetWorldIndex</a>(static_cast&lt;const Body*&gt;(<span class="keyword">nullptr</span>)), <a class="code" href="namespaceplayrho.html#a4106d8a0e998a2485196534514527a5a">BodyCounter</a>(-1));</div><div class="line">}</div><div class="line"></div><div class="line">TEST(<a class="code" href="classplayrho_1_1d2_1_1Body.html">Body</a>, ApplyLinearAccelDoesNothingToStatic)</div><div class="line">{</div><div class="line">    <span class="keyword">auto</span> world = <a class="code" href="classplayrho_1_1d2_1_1World.html">World</a>{};</div><div class="line">    </div><div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> body = world.<a class="code" href="classplayrho_1_1d2_1_1World.html#a66716e8c9020509c9891d9223a58be93">CreateBody</a>();</div><div class="line">    ASSERT_NE(body, <span class="keyword">nullptr</span>);</div><div class="line">    ASSERT_FALSE(body-&gt;IsAwake());</div><div class="line">    ASSERT_FALSE(body-&gt;IsSpeedable());</div><div class="line">    ASSERT_FALSE(body-&gt;IsAccelerable());</div><div class="line">    </div><div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> zeroAccel = <a class="code" href="structplayrho_1_1Vector.html">LinearAcceleration2</a>{</div><div class="line">        <a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>(0) * <a class="code" href="group__PhysicalUnits.html#ga6d200ec14214ce97214a95ec2f83c626">MeterPerSquareSecond</a>, <a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>(0) * <a class="code" href="group__PhysicalUnits.html#ga6d200ec14214ce97214a95ec2f83c626">MeterPerSquareSecond</a></div><div class="line">    };</div><div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> linAccel = <a class="code" href="structplayrho_1_1Vector.html">LinearAcceleration2</a>{</div><div class="line">        <a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>(2) * <a class="code" href="group__PhysicalUnits.html#ga6d200ec14214ce97214a95ec2f83c626">MeterPerSquareSecond</a>, <a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>(2) * <a class="code" href="group__PhysicalUnits.html#ga6d200ec14214ce97214a95ec2f83c626">MeterPerSquareSecond</a></div><div class="line">    };</div><div class="line">    <a name="a52"></a><a class="code" href="classplayrho_1_1d2_1_1Body.html#a7e2df131b907494df3b33f2ca8751529">ApplyLinearAcceleration</a>(*body, linAccel);</div><div class="line">    EXPECT_NE(body-&gt;GetLinearAcceleration(), linAccel);</div><div class="line">    EXPECT_EQ(body-&gt;GetLinearAcceleration(), zeroAccel);</div><div class="line">}</div><div class="line"></div><div class="line">TEST(<a class="code" href="classplayrho_1_1d2_1_1Body.html">Body</a>, GetAccelerationFF)</div><div class="line">{</div><div class="line">    <span class="keyword">auto</span> world = <a class="code" href="classplayrho_1_1d2_1_1World.html">World</a>{};</div><div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> body = world.<a class="code" href="classplayrho_1_1d2_1_1World.html#a66716e8c9020509c9891d9223a58be93">CreateBody</a>(<a class="code" href="structplayrho_1_1d2_1_1BodyConf.html">BodyConf</a>{}.<a class="code" href="structplayrho_1_1d2_1_1BodyConf.html#ac2af87244b6172527a527793ff3614fc">UseType</a>(BodyType::Dynamic));</div><div class="line">    body-&gt;<a name="a53"></a><a class="code" href="classplayrho_1_1d2_1_1Body.html#ae216d87f0c3ab4660646133f58f3fb30">SetAcceleration</a>(<a class="code" href="structplayrho_1_1Vector.html">LinearAcceleration2</a>{}, <a class="code" href="group__PhysicalQuantities.html#gafcce543a0d59f313adb801e2e18ede86">AngularAcceleration</a>{});</div><div class="line">    </div><div class="line">    ASSERT_EQ(body-&gt;GetLinearAcceleration(), <a class="code" href="structplayrho_1_1Vector.html">LinearAcceleration2</a>{});</div><div class="line">    ASSERT_EQ(body-&gt;GetAngularAcceleration(), <a class="code" href="group__PhysicalQuantities.html#gafcce543a0d59f313adb801e2e18ede86">AngularAcceleration</a>{});</div><div class="line">    </div><div class="line">    EXPECT_EQ(<a name="a54"></a><a class="code" href="classplayrho_1_1d2_1_1Body.html#acafaac4ef15f7416f464dff9b19780fa">GetAcceleration</a>(*body), <a name="_a55"></a><a class="code" href="structplayrho_1_1d2_1_1Acceleration.html">Acceleration</a>{});</div><div class="line">}</div><div class="line"></div><div class="line">TEST(<a class="code" href="classplayrho_1_1d2_1_1Body.html">Body</a>, SetAccelerationFF)</div><div class="line">{</div><div class="line">    <span class="keyword">auto</span> world = <a class="code" href="classplayrho_1_1d2_1_1World.html">World</a>{};</div><div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> body = world.<a class="code" href="classplayrho_1_1d2_1_1World.html#a66716e8c9020509c9891d9223a58be93">CreateBody</a>(<a class="code" href="structplayrho_1_1d2_1_1BodyConf.html">BodyConf</a>{}.<a class="code" href="structplayrho_1_1d2_1_1BodyConf.html#ac2af87244b6172527a527793ff3614fc">UseType</a>(BodyType::Dynamic));</div><div class="line">    body-&gt;<a class="code" href="classplayrho_1_1d2_1_1Body.html#ae216d87f0c3ab4660646133f58f3fb30">SetAcceleration</a>(<a class="code" href="structplayrho_1_1Vector.html">LinearAcceleration2</a>{}, <a class="code" href="group__PhysicalQuantities.html#gafcce543a0d59f313adb801e2e18ede86">AngularAcceleration</a>{});</div><div class="line">    </div><div class="line">    ASSERT_EQ(body-&gt;GetLinearAcceleration(), <a class="code" href="structplayrho_1_1Vector.html">LinearAcceleration2</a>{});</div><div class="line">    ASSERT_EQ(body-&gt;GetAngularAcceleration(), <a class="code" href="group__PhysicalQuantities.html#gafcce543a0d59f313adb801e2e18ede86">AngularAcceleration</a>{});</div><div class="line"> </div><div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> newAccel = <a class="code" href="structplayrho_1_1d2_1_1Acceleration.html">Acceleration</a>{</div><div class="line">        <a class="code" href="structplayrho_1_1Vector.html">LinearAcceleration2</a>{2_mps2, 3_mps2}, <a class="code" href="group__PhysicalQuantities.html#gafcce543a0d59f313adb801e2e18ede86">AngularAcceleration</a>{1.2f * <a class="code" href="group__PhysicalUnits.html#gaea803bc1b5ab2d6a9959f4d4edc06a8b">RadianPerSquareSecond</a>}</div><div class="line">    };</div><div class="line">    <a class="code" href="classplayrho_1_1d2_1_1Body.html#a438e172db303ae0ab53263bc6af419ad">SetAcceleration</a>(*body, newAccel);</div><div class="line">    EXPECT_EQ(<a class="code" href="classplayrho_1_1d2_1_1Body.html#acafaac4ef15f7416f464dff9b19780fa">GetAcceleration</a>(*body), newAccel);</div><div class="line">}</div><div class="line"></div><div class="line">TEST(<a class="code" href="classplayrho_1_1d2_1_1Body.html">Body</a>, <a name="a56"></a><a class="code" href="classplayrho_1_1d2_1_1Body.html#a532a2a6530a34432d28f6089193b2260">CalcGravitationalAcceleration</a>)</div><div class="line">{</div><div class="line">    <span class="keyword">auto</span> world = <a class="code" href="classplayrho_1_1d2_1_1World.html">World</a>{};</div><div class="line"></div><div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> l1 = <a class="code" href="structplayrho_1_1Vector.html">Length2</a>{-8_m, 0_m};</div><div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> l2 = <a class="code" href="structplayrho_1_1Vector.html">Length2</a>{+8_m, 0_m};</div><div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> l3 = <a class="code" href="structplayrho_1_1Vector.html">Length2</a>{+16_m, 0_m};</div><div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> shape = <a class="code" href="classplayrho_1_1d2_1_1Shape.html">Shape</a>{<a class="code" href="structplayrho_1_1d2_1_1DiskShapeConf.html">DiskShapeConf</a>{}.<a name="a57"></a><a class="code" href="structplayrho_1_1d2_1_1DiskShapeConf.html#a9cffdde99a7ec3fe7ad3ab2b634b741b">UseRadius</a>(2_m).<a name="a58"></a><a class="code" href="structplayrho_1_1d2_1_1ShapeBuilder.html#a5a36e113cd3a962dae60b3e3ab855c70">UseDensity</a>(1e10_kgpm2)};</div><div class="line">    </div><div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> b1 = world.CreateBody(<a class="code" href="structplayrho_1_1d2_1_1BodyConf.html">BodyConf</a>{}.<a class="code" href="structplayrho_1_1d2_1_1BodyConf.html#ac2af87244b6172527a527793ff3614fc">UseType</a>(BodyType::Dynamic).<a name="a59"></a><a class="code" href="structplayrho_1_1d2_1_1BodyConf.html#a452134100531c3c1274fc8ce6df4becd">UseLocation</a>(l1));</div><div class="line">    b1-&gt;CreateFixture(shape);</div><div class="line">    EXPECT_EQ(<a class="code" href="classplayrho_1_1d2_1_1Body.html#a532a2a6530a34432d28f6089193b2260">CalcGravitationalAcceleration</a>(*b1), <a class="code" href="structplayrho_1_1d2_1_1Acceleration.html">Acceleration</a>{});</div><div class="line">    </div><div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> b2 = world.CreateBody(<a class="code" href="structplayrho_1_1d2_1_1BodyConf.html">BodyConf</a>{}.<a class="code" href="structplayrho_1_1d2_1_1BodyConf.html#ac2af87244b6172527a527793ff3614fc">UseType</a>(BodyType::Dynamic).<a class="code" href="structplayrho_1_1d2_1_1BodyConf.html#a452134100531c3c1274fc8ce6df4becd">UseLocation</a>(l2));</div><div class="line">    b2-&gt;CreateFixture(shape);</div><div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> accel = <a class="code" href="classplayrho_1_1d2_1_1Body.html#a532a2a6530a34432d28f6089193b2260">CalcGravitationalAcceleration</a>(*b1);</div><div class="line">    EXPECT_NEAR(static_cast&lt;double&gt;(<a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>(<a class="code" href="namespaceplayrho.html#ac40645d0127c8fd699610de821aebb57">GetX</a>(accel.linear)/<a class="code" href="group__PhysicalUnits.html#ga6d200ec14214ce97214a95ec2f83c626">MeterPerSquareSecond</a>)),</div><div class="line">                0.032761313021183014, 0.032761313021183014/100);</div><div class="line">    EXPECT_EQ(<a class="code" href="namespaceplayrho.html#ac8e87b921726f7c140ea35db1913ac6c">GetY</a>(accel.linear), 0 * <a class="code" href="group__PhysicalUnits.html#ga6d200ec14214ce97214a95ec2f83c626">MeterPerSquareSecond</a>);</div><div class="line">    EXPECT_EQ(accel.angular, 0 * <a class="code" href="group__PhysicalUnits.html#gaea803bc1b5ab2d6a9959f4d4edc06a8b">RadianPerSquareSecond</a>);</div><div class="line">    </div><div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> b3 = world.CreateBody(<a class="code" href="structplayrho_1_1d2_1_1BodyConf.html">BodyConf</a>{}.<a class="code" href="structplayrho_1_1d2_1_1BodyConf.html#ac2af87244b6172527a527793ff3614fc">UseType</a>(BodyType::Static).<a class="code" href="structplayrho_1_1d2_1_1BodyConf.html#a452134100531c3c1274fc8ce6df4becd">UseLocation</a>(l3));</div><div class="line">    EXPECT_EQ(<a class="code" href="classplayrho_1_1d2_1_1Body.html#a532a2a6530a34432d28f6089193b2260">CalcGravitationalAcceleration</a>(*b3), <a class="code" href="structplayrho_1_1d2_1_1Acceleration.html">Acceleration</a>{});</div><div class="line">}</div><div class="line"></div><div class="line">TEST(<a class="code" href="classplayrho_1_1d2_1_1Body.html">Body</a>, RotateAboutWorldPointFF)</div><div class="line">{</div><div class="line">    <span class="keyword">auto</span> world = <a class="code" href="classplayrho_1_1d2_1_1World.html">World</a>{};</div><div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> body = world.<a class="code" href="classplayrho_1_1d2_1_1World.html#a66716e8c9020509c9891d9223a58be93">CreateBody</a>();</div><div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> locationA = body-&gt;<a name="a60"></a><a class="code" href="classplayrho_1_1d2_1_1Body.html#a63db5146e976e495518b850c37be060d">GetLocation</a>();</div><div class="line">    ASSERT_EQ(locationA, <a class="code" href="structplayrho_1_1Vector.html">Length2</a>(0_m, 0_m));</div><div class="line">    <a name="a61"></a><a class="code" href="classplayrho_1_1d2_1_1Body.html#af35644c450c12c8dcbd6cf1a0aa7b75c">RotateAboutWorldPoint</a>(*body, 90_deg, <a class="code" href="structplayrho_1_1Vector.html">Length2</a>{2_m, 0_m});</div><div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> locationB = body-&gt;GetLocation();</div><div class="line">    EXPECT_NEAR(static_cast&lt;double&gt;(<a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>(<a class="code" href="namespaceplayrho.html#ac40645d0127c8fd699610de821aebb57">GetX</a>(locationB)/<a name="a62"></a><a class="code" href="group__PhysicalUnits.html#ga2f0ff7b721060132468649c9afb07c37">Meter</a>)), +2.0, 0.001);</div><div class="line">    EXPECT_NEAR(static_cast&lt;double&gt;(<a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>(<a class="code" href="namespaceplayrho.html#ac8e87b921726f7c140ea35db1913ac6c">GetY</a>(locationB)/<a class="code" href="group__PhysicalUnits.html#ga2f0ff7b721060132468649c9afb07c37">Meter</a>)), -2.0, 0.001);</div><div class="line">}</div><div class="line"></div><div class="line">TEST(<a class="code" href="classplayrho_1_1d2_1_1Body.html">Body</a>, RotateAboutLocalPointFF)</div><div class="line">{</div><div class="line">    <span class="keyword">auto</span> world = <a class="code" href="classplayrho_1_1d2_1_1World.html">World</a>{};</div><div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> body = world.<a class="code" href="classplayrho_1_1d2_1_1World.html#a66716e8c9020509c9891d9223a58be93">CreateBody</a>();</div><div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> locationA = body-&gt;<a class="code" href="classplayrho_1_1d2_1_1Body.html#a63db5146e976e495518b850c37be060d">GetLocation</a>();</div><div class="line">    ASSERT_EQ(locationA, <a class="code" href="structplayrho_1_1Vector.html">Length2</a>(0_m, 0_m));</div><div class="line">    <a name="a63"></a><a class="code" href="classplayrho_1_1d2_1_1Body.html#ad233f2c24d1fa985bd80eaa0050d659e">RotateAboutLocalPoint</a>(*body, 90_deg, <a class="code" href="structplayrho_1_1Vector.html">Length2</a>{2_m, 0_m});</div><div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> locationB = body-&gt;GetLocation();</div><div class="line">    EXPECT_NEAR(static_cast&lt;double&gt;(<a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>(<a class="code" href="namespaceplayrho.html#ac40645d0127c8fd699610de821aebb57">GetX</a>(locationB)/<a class="code" href="group__PhysicalUnits.html#ga2f0ff7b721060132468649c9afb07c37">Meter</a>)), +2.0, 0.001);</div><div class="line">    EXPECT_NEAR(static_cast&lt;double&gt;(<a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>(<a class="code" href="namespaceplayrho.html#ac8e87b921726f7c140ea35db1913ac6c">GetY</a>(locationB)/<a class="code" href="group__PhysicalUnits.html#ga2f0ff7b721060132468649c9afb07c37">Meter</a>)), -2.0, 0.001);</div><div class="line">}</div><div class="line"></div><div class="line">TEST(<a class="code" href="classplayrho_1_1d2_1_1Body.html">Body</a>, <a name="a64"></a><a class="code" href="classplayrho_1_1d2_1_1Body.html#a6970aff5f3ad80147b55f36902039b4e">GetCentripetalForce</a>)</div><div class="line">{</div><div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> l1 = <a class="code" href="structplayrho_1_1Vector.html">Length2</a>{-8_m, 0_m};</div><div class="line">    <span class="keyword">auto</span> world = <a class="code" href="classplayrho_1_1d2_1_1World.html">World</a>{};</div><div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> body = world.<a class="code" href="classplayrho_1_1d2_1_1World.html#a66716e8c9020509c9891d9223a58be93">CreateBody</a>(<a class="code" href="structplayrho_1_1d2_1_1BodyConf.html">BodyConf</a>{}.<a class="code" href="structplayrho_1_1d2_1_1BodyConf.html#ac2af87244b6172527a527793ff3614fc">UseType</a>(BodyType::Dynamic).<a class="code" href="structplayrho_1_1d2_1_1BodyConf.html#a452134100531c3c1274fc8ce6df4becd">UseLocation</a>(l1));</div><div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> shape = <a class="code" href="classplayrho_1_1d2_1_1Shape.html">Shape</a>{<a class="code" href="structplayrho_1_1d2_1_1DiskShapeConf.html">DiskShapeConf</a>{}.<a class="code" href="structplayrho_1_1d2_1_1DiskShapeConf.html#a9cffdde99a7ec3fe7ad3ab2b634b741b">UseRadius</a>(2_m).<a class="code" href="structplayrho_1_1d2_1_1ShapeBuilder.html#a5a36e113cd3a962dae60b3e3ab855c70">UseDensity</a>(1_kgpm2)};</div><div class="line">    body-&gt;CreateFixture(shape);</div><div class="line">    <a name="a65"></a><a class="code" href="classplayrho_1_1d2_1_1Body.html#a7c0e7bb0c146372c16ee44661798c473">SetLinearVelocity</a>(*body, <a class="code" href="structplayrho_1_1Vector.html">LinearVelocity2</a>{2_mps, 3_mps});</div><div class="line">    EXPECT_EQ(<a name="a66"></a><a class="code" href="classplayrho_1_1d2_1_1Body.html#a3802163b90f631b001eaa0201be419c9">GetLinearVelocity</a>(*body), <a class="code" href="structplayrho_1_1Vector.html">LinearVelocity2</a>(2_mps, 3_mps));</div><div class="line">    </div><div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> force = <a class="code" href="classplayrho_1_1d2_1_1Body.html#a6970aff5f3ad80147b55f36902039b4e">GetCentripetalForce</a>(*body, <a class="code" href="structplayrho_1_1Vector.html">Length2</a>{1_m, 10_m});</div><div class="line">    EXPECT_NEAR(static_cast&lt;double&gt;(<a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>(<a class="code" href="namespaceplayrho.html#ac40645d0127c8fd699610de821aebb57">GetX</a>(force)/<a name="a67"></a><a class="code" href="group__PhysicalUnits.html#gaf83413429e6771da6657a46ad815077f">Newton</a>)), 8.1230141222476959, 0.01);</div><div class="line">    EXPECT_NEAR(static_cast&lt;double&gt;(<a class="code" href="namespaceplayrho.html#a1fc125070a08100d083a1360f7167f87">Real</a>(<a class="code" href="namespaceplayrho.html#ac8e87b921726f7c140ea35db1913ac6c">GetY</a>(force)/<a class="code" href="group__PhysicalUnits.html#gaf83413429e6771da6657a46ad815077f">Newton</a>)), 9.0255714952945709, 0.01);</div><div class="line">}</div><div class="line"></div><div class="line">TEST(<a class="code" href="classplayrho_1_1d2_1_1Body.html">Body</a>, GetPositionFF)</div><div class="line">{</div><div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> position = <a class="code" href="structplayrho_1_1d2_1_1Position.html">Position</a>{<a class="code" href="structplayrho_1_1Vector.html">Length2</a>{-33_m, +4_m}, 10_deg};</div><div class="line">    <span class="keyword">auto</span> world = <a class="code" href="classplayrho_1_1d2_1_1World.html">World</a>{};</div><div class="line">    <span class="keyword">auto</span> body = world.<a class="code" href="classplayrho_1_1d2_1_1World.html#a66716e8c9020509c9891d9223a58be93">CreateBody</a>();</div><div class="line">    EXPECT_NE(<a name="a68"></a><a class="code" href="structplayrho_1_1d2_1_1Position.html#aa791f769d7311d093e53b09c772b78d6">GetPosition</a>(*body), position);</div><div class="line">    <a name="a69"></a><a class="code" href="classplayrho_1_1d2_1_1Body.html#a18d4f68807190fdf745e1b7a6eeeeefc">SetLocation</a>(*body, position.linear);</div><div class="line">    <a name="a70"></a><a class="code" href="classplayrho_1_1d2_1_1Body.html#a200799e930f62a238b7e82bf59d18cdb">SetAngle</a>(*body, position.angular);</div><div class="line">    EXPECT_EQ(<a class="code" href="structplayrho_1_1d2_1_1Position.html#aa791f769d7311d093e53b09c772b78d6">GetPosition</a>(*body), position);</div><div class="line">}</div><div class="line"></div><div class="line">TEST(<a class="code" href="classplayrho_1_1d2_1_1Body.html">Body</a>, GetSetTransformationFF)</div><div class="line">{</div><div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> xfm0 = <a class="code" href="structplayrho_1_1d2_1_1Transformation.html">Transformation</a>{<a class="code" href="structplayrho_1_1Vector.html">Length2</a>{-33_m, +4_m}, UnitVec::GetTopRight()};</div><div class="line">    <span class="keyword">auto</span> world = <a class="code" href="classplayrho_1_1d2_1_1World.html">World</a>{};</div><div class="line">    <span class="keyword">auto</span> body = world.<a class="code" href="classplayrho_1_1d2_1_1World.html#a66716e8c9020509c9891d9223a58be93">CreateBody</a>();</div><div class="line">    EXPECT_NE(<a name="a71"></a><a class="code" href="classplayrho_1_1d2_1_1Fixture.html#a0daaf455abb76a6e73564741eedee365">GetTransformation</a>(*body), xfm0);</div><div class="line">    <a class="code" href="namespaceplayrho_1_1d2.html#a44001c717f2a41d1ba1c02fec4a9c5a9">SetTransformation</a>(*body, xfm0);</div><div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> xfm1 = <a class="code" href="classplayrho_1_1d2_1_1Fixture.html#a0daaf455abb76a6e73564741eedee365">GetTransformation</a>(*body);</div><div class="line">    EXPECT_EQ(xfm1.p, xfm0.p);</div><div class="line">    EXPECT_NEAR(static_cast&lt;double&gt;(<a class="code" href="namespaceplayrho.html#ac40645d0127c8fd699610de821aebb57">GetX</a>(xfm1.q)), static_cast&lt;double&gt;(<a class="code" href="namespaceplayrho.html#ac40645d0127c8fd699610de821aebb57">GetX</a>(xfm0.q)), 0.0001);</div><div class="line">    EXPECT_NEAR(static_cast&lt;double&gt;(<a class="code" href="namespaceplayrho.html#ac8e87b921726f7c140ea35db1913ac6c">GetY</a>(xfm1.q)), static_cast&lt;double&gt;(<a class="code" href="namespaceplayrho.html#ac8e87b921726f7c140ea35db1913ac6c">GetY</a>(xfm0.q)), 0.0001);</div><div class="line">}</div><div class="line"></div></div><!-- fragment --> </div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Wed Feb 7 2018 17:35:37 for PlayRho by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.14 </li>
  </ul>
</div>
</body>
</html>
